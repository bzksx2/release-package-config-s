webpackJsonp([8,10],{0:function(e,t,r){"use strict";r.d(t,"a",function(){return f});var n=r(4),a=r.n(n),s=r(14),i=r.n(s),o=r(3),l=r.n(o),p=r(15),u=r.n(p),c=r(16),m=r.n(c),d=r(17),f=(r.n(d),function(){function e(t){u()(this,e),this.schema=t}return m()(e,[{key:"count",value:function(e){}},{key:"query",value:function(e,t){var r=this._getQuery(t);return r.set("_method","get"),fetch(e,{method:"POST",credentials:"same-origin",body:r})}},{key:"_isRefKey",value:function(e){if(this.schema.child)for(var t=0;t<this.schema.child.length;t++)if(this.schema.child[t]==e)return!0;return!1}},{key:"_getQuery",value:function(e){var t=new URLSearchParams;for(var r in e)if(this._isRefKey(r)){var n=r+"_";for(var a in e[r])t.append(n+a,e[r][a])}else{var s=e[r];if(s instanceof Array)for(var i=0;i<s.length;i++)t.append(r,s[i]);else t.append(r,s)}return t}},{key:"paged",value:function(e){var t=this._getQuery(e);return t.set("_method","get"),fetch(this.schema.queryUrl||this.schema.url,{method:"POST",credentials:"same-origin",body:t})}},{key:"create",value:function(e,t){var r=new FormData;if(r.append(this.schema.name,l()(e)),t)for(var n in t)r.append(n,t[n]);return fetch(this.schema.createUrl||this.schema.url,{method:"POST",credentials:"same-origin",body:r})}},{key:"update",value:function(e,t){var r=new FormData;if(r.append("_method","put"),r.append(this.schema.name,l()(e)),t){var n=this._getQuery(t),a=!0,s=!1,o=void 0;try{for(var p,u=i()(n.keys());!(a=(p=u.next()).done);a=!0){var c=p.value;r.append(c,n.get(c))}}catch(e){s=!0,o=e}finally{try{!a&&u.return&&u.return()}finally{if(s)throw o}}}return fetch(this.schema.updateUrl||this.schema.url,{method:"POST",credentials:"same-origin",body:r})}},{key:"remove",value:function(e){var t=this._getQuery(e);return t.set("_method","delete"),fetch(this.schema.deleteUrl||this.schema.url,{method:"POST",credentials:"same-origin",body:t})}},{key:"buildValue",value:function(e){return e&&(e=a()({},this.schema.name,e)),e}}]),e}())},10:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2);t.default={props:["activeMenu"],data:function(){return{currentApp:{name:"暂无应用"},appArr:[],spanLeft:5,spanRight:19,appList:[]}},computed:{iconSize:function(){return 5===this.spanLeft?14:24}},mounted:function(){this.ds=n.a.getDataSource("appMgr");var e=this,t=n.a.getAppId();n.a.getPagedByDS(this.ds,function(r){for(var n=[],a=0,s=0,i=r.result.length;s<i;s++){var o=r.result[s];n.push({id:o.id,name:o.name}),t==o.id&&(a=s)}e.appArr=n,n.length>0&&(e.currentApp=n[a])},null,!0)},methods:{changeApp:function(e){var t;this.appArr.every(function(r,n,a){return e!=r.id||(t=r.name,!1)}),this.currentApp={id:e,name:t},location.href=location.pathname+"?appId="+e},toggleClick:function(){5===this.spanLeft?(this.spanLeft=2,this.spanRight=22):(this.spanLeft=5,this.spanRight=19)}}}},11:function(e,t,r){"use strict";r.d(t,"a",function(){return i}),r.d(t,"b",function(){return o});var n,a=r(4),s=r.n(a),i={example:{fieldMeta:[{name:"id",label:"主键",xType:"q-input",showInTable:!1,showInForm:!1},{name:"name",label:"名称",xType:"q-input"},{name:"startTime",label:"生效时间",xType:"q-date"},{name:"appId",label:"所属应用",xType:"q-select",bind:""}]},roleMgr:{table:{bind:"roleMgr",fieldMeta:[{name:"id",label:"主键",xType:"q-input",showInTable:!1,showInForm:!1},{name:"name",label:"名称",xType:"q-input"},{name:"appId",label:"所属应用",xType:"q-select",bind:"appMgr",showInForm:!1}]}},appMgr:{table:{bind:"appMgr",fieldMeta:[{name:"id",label:"主键",xType:"q-input",showInTable:!1,showInForm:!1},{name:"name",label:"名称",xType:"q-input"}]}},appPropertiesMgr:{table:{bind:"appPropertiesMgr",fieldMeta:[{name:"id",label:"主键",xType:"q-input",showInTable:!1,showInForm:!1},{name:"property",label:"属性",xType:"q-input"},{name:"value",label:"值",xType:"q-input"}]}},memberMgr:{table:{bind:"memberMgr",fieldMeta:[{name:"id",label:"主键",xType:"q-input",showInTable:!1,showInForm:!1},{name:"username",label:"用户名",xType:"q-input"},{name:"password",label:"密码",xType:"q-input"},{name:"nickname",label:"昵称",xType:"q-input"}]}},roleGroupMgr:{table:{bind:"roleGroupMgr",fieldMeta:[{name:"id",label:"主键",xType:"q-input",showInTable:!1,showInForm:!1},{name:"name",label:"名称",xType:"q-input"}]}}},o=(n={example:{queryUrl:"/rest/configServer/access/roleMgr",createUrl:"",updateUrl:"",deleteUrl:"",name:"roleEntity",alias:"role"},roleMgr:{url:"/rest/configServer/access/roleMgr",name:"roleEntity",alias:"role",child:["rRelp"]},pagePermissionMgr:{url:"/rest/configServer/access/pagePermissionMgr",name:"pagePermissionEntity",alias:"pagePermission"},roleRelPagePermissionMgr:{url:"/rest/configServer/access/roleRelPagePermissionMgr",name:"roleRelPagePermissionEntity",alias:"roleRelPagePermission"},apiPermissionMgr:{url:"/rest/configServer/access/apiPermissionMgr",name:"apiPermissionEntity",alias:"apiPermission"}},s()(n,"apiPermissionMgr",{url:"/rest/configServer/access/apiPermissionMgr",name:"apiPermissionEntity",alias:"apiPermission"}),s()(n,"roleRelApiPermissionMgr",{url:"/rest/configServer/access/roleRelApiPermissionMgr",name:"roleRelApiPermissionEntity",alias:"roleRelApiPermission"}),s()(n,"appMgr",{url:"/rest/configServer/access/appMgr",name:"appEntity",alias:"app"}),s()(n,"appPropertiesMgr",{url:"/rest/configServer/access/appPropertiesMgr",name:"appPropertiesEntity",alias:"ap"}),s()(n,"memberMgr",{url:"/rest/configServer/access/memberMgr",name:"memberEntity",alias:"member",child:["mRelrg"]}),s()(n,"roleGroupMgr",{url:"/rest/configServer/access/roleGroupMgr",name:"roleGroupEntity",alias:"roleGroup",child:["rgRelr"]}),n)},113:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6),a=r.n(n),s=r(5),i=r.n(s),o=r(75),l=r.n(o),p=r(0);new p.a({name:"roleEntity",queryUrl:"/rest/configServer/access/roleMgr",createUrl:"/rest/configServer/access/roleMgr",updateUrl:"/rest/configServer/access/roleMgr",deleteUrl:"/rest/configServer/access/roleMgr"});t.default={data:function(){return{formInline:{user:"",password:""},ruleInline:{user:[{required:!0,message:"请填写用户名11",trigger:"blur"}],password:[{required:!0,message:"请填写密码",trigger:"blur"}]}}},methods:{handleSubmit:function(e){var t=this;return i()(a.a.mark(function r(){var n;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:n=t,t.$refs[e].validate(function(e){e?l.a.post("/login",{username:n.formInline.user,password:n.formInline.password,ajax:!0},function(e){JSON.parse(e).success?window.location="index.html":n.$Message.error("username or password error.")}):n.$Message.error("表单验证失败!")});case 2:case"end":return r.stop()}},r,t)}))()}}}},12:function(e,t){},125:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7),a=r(92),s=r.n(a);new n.Vue({el:"#login",components:{Login:s.a}})},13:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"layout",class:{"layout-hide-text":e.spanLeft<5}},[r("Row",{attrs:{type:"flex"}},[r("i-col",{staticClass:"layout-menu-left",attrs:{span:e.spanLeft}},[r("Menu",{attrs:{"active-name":e.activeMenu,theme:"dark",width:"auto"}},[r("div",{staticClass:"layout-logo-left"},[r("Dropdown",{staticStyle:{margin:"5px 0px 0px 5px"},attrs:{placement:"bottom-start",trigger:"click"},on:{"on-click":e.changeApp}},[r("a",{staticStyle:{color:"rgb(158, 167, 180)"},attrs:{href:"javascript:void(0)"}},[e._v("\n              应用: "+e._s(e.currentApp.name)+"\n              "),r("Icon",{attrs:{type:"arrow-down-b"}})],1),e._v(" "),r("Dropdown-menu",{slot:"list"},[e._l(e.appArr,function(t){return r("Dropdown-item",{attrs:{name:t.id}},[e._v(e._s(t.name))])}),e._v(" "),r("Dropdown-item",{attrs:{divided:""}},[e._v("应用管理")])],2)],1)],1),e._v(" "),r("Menu-item",{attrs:{name:"appMgr"}},[r("Icon",{attrs:{type:"ios-keypad",size:e.iconSize}}),e._v(" "),r("a",{staticClass:"layout-text",attrs:{href:"appMgr.html"}},[e._v("应用管理")])],1),e._v(" "),r("Menu-item",{attrs:{name:"memberMgr"}},[r("Icon",{attrs:{type:"ios-keypad",size:e.iconSize}}),e._v(" "),r("a",{staticClass:"layout-text",attrs:{href:"memberMgr.html?appId="+e.currentApp.id}},[e._v("用户管理")])],1),e._v(" "),r("Menu-item",{attrs:{name:"roleGroupMgr"}},[r("Icon",{attrs:{type:"ios-keypad",size:e.iconSize}}),e._v(" "),r("a",{staticClass:"layout-text",attrs:{href:"roleGroupMgr.html?appId="+e.currentApp.id}},[e._v("角色组管理")])],1),e._v(" "),r("Menu-item",{attrs:{name:"roleMgr"}},[r("Icon",{attrs:{type:"ios-analytics",size:e.iconSize}}),e._v(" "),r("a",{staticClass:"layout-text",attrs:{href:"roleMgr.html?appId="+e.currentApp.id}},[e._v("角色管理")])],1),e._v(" "),r("Menu-item",{attrs:{name:"appPropertiesMgr"}},[r("Icon",{attrs:{type:"ios-keypad",size:e.iconSize}}),e._v(" "),r("a",{staticClass:"layout-text",attrs:{href:"appPropertiesMgr.html?appId="+e.currentApp.id}},[e._v("应用参配")])],1),e._v(" "),r("Menu-item",{attrs:{name:"pageMgr"}},[r("Icon",{attrs:{type:"ios-analytics",size:e.iconSize}}),e._v(" "),r("a",{staticClass:"layout-text",attrs:{href:"config.html?appId="+e.currentApp.id}},[e._v("页面管理")])],1)],1)],1),e._v(" "),r("i-col",{attrs:{span:e.spanRight}},[r("div",{staticClass:"layout-header"},[r("i-button",{attrs:{type:"text"},on:{click:e.toggleClick}},[r("Icon",{attrs:{type:"navicon",size:"32"}})],1)],1),e._v(" "),r("div",{staticClass:"layout-breadcrumb"},[r("Breadcrumb",[r("Breadcrumb-item",{attrs:{href:"#"}},[e._v("首页")]),e._v(" "),r("Breadcrumb-item",{attrs:{href:"#"}},[e._v("应用中心")]),e._v(" "),r("Breadcrumb-item",[e._v("某应用")])],1)],1),e._v(" "),r("div",{staticClass:"layout-content"},[r("div",{staticClass:"layout-content-main"},[e._t("default")],2)])])],1)],1)},staticRenderFns:[]}},173:function(e,t){},194:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Form",{ref:"formInline",attrs:{model:e.formInline,rules:e.ruleInline}},[r("Form-item",{attrs:{prop:"user"}},[r("Input",{attrs:{type:"text",placeholder:"Username"},model:{value:e.formInline.user,callback:function(t){e.formInline.user=t},expression:"formInline.user"}},[r("Icon",{attrs:{type:"ios-person-outline"},slot:"prepend"})],1)],1),e._v(" "),r("Form-item",{attrs:{prop:"password"}},[r("Input",{attrs:{type:"password",placeholder:"Password"},model:{value:e.formInline.password,callback:function(t){e.formInline.password=t},expression:"formInline.password"}},[r("Icon",{attrs:{type:"ios-locked-outline"},slot:"prepend"})],1)],1),e._v(" "),r("Form-item",[r("Button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit("formInline")}}},[e._v("登录")])],1)],1)},staticRenderFns:[]}},2:function(e,t,r){"use strict";function n(e,t,r){return new m.a(function(n,a){!0!==r&&(e=serviceRootPath+e),$.post(e,t,function(e){n(e)},"json")})}function a(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),r=window.location.search.substr(1).match(t),n="";return null!=r&&(n=r[2]),t=null,r=null,null==n||""==n||"undefined"==n?"":n}var s=r(3),i=r.n(s),o=r(6),l=r.n(o),p=r(5),u=r.n(p),c=r(27),m=r.n(c),d=r(11),f=r(0),h={};h.phoneRegisted=function(){var e=u()(l.a.mark(function e(t){var r,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="register?_cnd=exists&_method=GET&_pageSize=20&_pageNo=1",a={$phone:t},e.next=4,n(r,a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),h.insertUser=function(){var e=u()(l.a.mark(function e(t){var r,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="register?_method=POST",a={$user:i()(t)},e.next=4,n(r,a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),h.getPageConfig=function(e){return d.a[e]},h.getDSConfig=function(e){return d.b[e]},h.getDataSource=function(e){return new f.a(this.getDSConfig(e))},h.getPagedByDS=function(){var e=u()(l.a.mark(function e(t,r,n,a){var s,i;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n||(n={}),!a&&this.getAppId&&(n.appId=this.getAppId()),e.next=4,t.paged(n);case 4:return s=e.sent,e.next=7,s.json();case 7:return i=e.sent,i.success&&r&&r(i),e.abrupt("return",i);case 10:case"end":return e.stop()}},e,this)}));return function(t,r,n,a){return e.apply(this,arguments)}}(),h.getAppId=function(){return a("appId")},t.a=h},7:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(18),a=r(19),s=r.n(a),i=r(8),o=(r.n(i),r(9)),l=r.n(o);r.d(t,"Vue",function(){return n.default}),n.default.use(s.a),n.default.component("Layout",l.a)},8:function(e,t){},9:function(e,t,r){r(12);var n=r(1)(r(10),r(13),"data-v-1fe8eacb",null);e.exports=n.exports},92:function(e,t,r){r(173);var n=r(1)(r(113),r(194),null,null);e.exports=n.exports}},[125]);
//# sourceMappingURL=login.ae2d0f9a3ea07f0b51fb.js.map