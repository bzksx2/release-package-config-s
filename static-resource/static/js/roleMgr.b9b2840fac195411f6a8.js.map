{"version":3,"sources":["webpack:///static/js/roleMgr.b9b2840fac195411f6a8.js","webpack:///./src/utils/dataSource.js?ec96*","webpack:///./src/store/PageConfigs.js","webpack:///RoleMgr.vue","webpack:///./src/components/Layout.vue?78fa","webpack:///./src/module/roleMgr/roleMgr.js","webpack:///./src/components/BizTree.vue","webpack:///./src/module/roleMgr/RoleMgr.vue?f686","webpack:///./src/components/BizTree.vue?3592","webpack:///./src/store/DataCenter.js","webpack:///FormDialog.vue","webpack:///TablePage.vue","webpack:///./src/components/FormDialog.vue?a27a","webpack:///./src/components/TablePage.vue?2a45","webpack:///./src/components/TablePage.vue?3a8a","webpack:///./src/components/FormDialog.vue?6250","webpack:///BizTransfer.vue","webpack:///./src/components/BizTransfer.vue?d97d","webpack:///./src/components/BizTransfer.vue?a887","webpack:///./src/module/common.js","webpack:///./src/components/Layout.vue?63b8","webpack:///Layout.vue","webpack:///./src/module/roleMgr/RoleMgr.vue","webpack:///BizTree.vue"],"names":["webpackJsonp","0","module","__webpack_exports__","__webpack_require__","d","DataSource","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default","n","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck___default","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass__","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass___default","__WEBPACK_IMPORTED_MODULE_4_whatwg_fetch__","schema","this","key","value","params","url","q","_getQuery","set","fetch","method","credentials","body","child","i","length","URLSearchParams","_isRefKey","cp","kk","append","pvalue","Array","queryUrl","ext","data","FormData","name","createUrl","pp","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","keys","next","done","get","err","return","updateUrl","deleteUrl","10","pageConfigs","dsConfigs","_dsConfigs","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default","example","fieldMeta","label","xType","showInTable","showInForm","bind","roleMgr","table","appMgr","appPropertiesMgr","memberMgr","roleGroupMgr","alias","pagePermissionMgr","roleRelPagePermissionMgr","apiPermissionMgr","11","exports","117","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0__components_TablePage_vue__","__WEBPACK_IMPORTED_MODULE_0__components_TablePage_vue___default","__WEBPACK_IMPORTED_MODULE_1__components_BizTransfer_vue__","__WEBPACK_IMPORTED_MODULE_1__components_BizTransfer_vue___default","__WEBPACK_IMPORTED_MODULE_2__components_BizTree_vue__","__WEBPACK_IMPORTED_MODULE_2__components_BizTree_vue___default","components","tablePage","a","bizTransfer","bizTree","showTable","selectedItems","currentRoleId","transferConfig","methods","itemSelectEvent","selection","_judgeSelected","res","$Modal","warning","content","openPageSet","param","left","ds","valueKey","textKey","right","filterKey","filterValue","id","openApiSet","12","render","_vm","_h","$createElement","_c","_self","staticClass","class","layout-hide-text","spanLeft","attrs","type","span","active-name","activeMenu","theme","width","staticStyle","margin","placement","trigger","on","on-click","changeApp","color","href","_v","_s","currentApp","slot","_l","item","divided","size","iconSize","spanRight","click","toggleClick","_t","staticRenderFns","127","__WEBPACK_IMPORTED_MODULE_0__common_js__","__WEBPACK_IMPORTED_MODULE_1__RoleMgr_vue__","__WEBPACK_IMPORTED_MODULE_1__RoleMgr_vue___default","el","RoleMgr","176","177","182","Component","198","pageName","margin-left","_e","closeTransfer","config","update:closeTransfer","$event","closeTree","update:closeTree","199","_m","baseData","show-checkbox","on-check-change","checkChange","margin-top","cancel","handleSave","margin-bottom","2","sendRequest","path","noNeedRoot","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise___default","resolve","reject","serviceRootPath","$","post","_getQueryString","reg","RegExp","r","window","location","search","substr","match","context","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise__","__WEBPACK_IMPORTED_MODULE_4__PageConfigs_js__","__WEBPACK_IMPORTED_MODULE_5__utils_dataSource_js__","apis","phoneRegisted","_ref","mark","_callee","phone","wrap","_context","prev","$phone","abrupt","sent","stop","_x","apply","arguments","insertUser","_ref2","_callee2","paramObj","_context2","$user","_x2","getPageConfig","getDSConfig","dsName","getDataSource","getPagedByDS","_ref3","_callee3","callback","withoutApp","response","_context3","getAppId","appId","paged","json","success","_x3","_x4","_x5","_x6","20","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default","__WEBPACK_IMPORTED_MODULE_2__utils_dataSource_js__","__WEBPACK_IMPORTED_MODULE_3__store_DataCenter_js__","props","selectDatas","len","formMeta","loading","computed","open","showDialog","formDatas","formData","mounted","dsBind","result","$emit","21","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default","__WEBPACK_IMPORTED_MODULE_4__FormDialog_vue__","__WEBPACK_IMPORTED_MODULE_4__FormDialog_vue___default","formDialog","tableMeta","tableData","openFlag","meta","_preHandleMeta","form","_refreshTable","align","column","title","push","initFormData","addItem","operType","updateItem","deleteItems","that","confirm","onOk","ids","handleItemChange","itemSelected","row","dialogVM","error","create","update","remove","23","24","25","border","columns","on-selection-change","update:showDialog","26","mask-closable","on-cancel","model","$$v","expression","label-width","placeholder","$$exp","$$idx","isArray","splice","format","option","34","__WEBPACK_IMPORTED_MODULE_4__store_DataCenter_js__","targetKeys","_refreshListData","leftConfig","dataArr","text","rightConfig","data2","targetArr","dataArr2","j","_len","item2","leftDS","rightDS","handleChange","newTargetKeys","relArr","38","39","40","target-keys","on-change","6","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1_iview__","__WEBPACK_IMPORTED_MODULE_1_iview___default","__WEBPACK_IMPORTED_MODULE_2__node_modules_iview_dist_styles_iview_css__","__WEBPACK_IMPORTED_MODULE_3__components_Layout_vue__","__WEBPACK_IMPORTED_MODULE_3__components_Layout_vue___default","use","component","7","8","9","__WEBPACK_IMPORTED_MODULE_0__store_DataCenter_js__","appArr","appList","urlAppId","index","every","arry","pathname","96","99","_refreshTreeData","_getOldCheckedMap","_parseToTreeData","document","getElementsByClassName","addEventListener","event","target","tagName","ruleSpan","parentNode","querySelector","ruleId","dataset","serviceId","pid","_updateRuleChecked","serviceItem","boundleMap","ruleArr","children","ruleItem","checked","checkedArr","apiPermissionId","apiPermissionRuleId","roleId","console","log","relDS","oldCheckedMap","serverData","treeData","treeItem","bundle","disableCheckbox","expand","service","ruleLen","rules","rule","refCond","pidIndex"],"mappings":"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","file":"static/js/roleMgr.b9b2840fac195411f6a8.js","sourcesContent":["webpackJsonp([2,10],{\n\n/***/ 0:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return DataSource; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_whatwg_fetch__ = __webpack_require__(16);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_whatwg_fetch___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_whatwg_fetch__);\n\n\n\n\n\n\n\nvar example = {\n  queryUrl: '',\n  createUrl: '',\n  updateUrl: '',\n  deleteUrl: '',\n  name: 'personEntity',\n  alias: 'p',\n  child: ['cars', 'fff'],\n  ref: ['family']\n};\n\nvar paramExample = {\n  _pageNo: 2,\n  _pageSize: 10,\n  name: ''\n};\n\nvar DataSource = function () {\n  function DataSource(schema) {\n    __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck___default()(this, DataSource);\n\n    this.schema = schema;\n  }\n\n  __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass___default()(DataSource, [{\n    key: 'count',\n    value: function count(params) {}\n  }, {\n    key: 'query',\n    value: function query(url, params) {\n      var q = this._getQuery(params);\n      q.set(\"_method\", \"get\");\n      return fetch(url, { method: 'POST', credentials: \"same-origin\", body: q });\n    }\n  }, {\n    key: '_isRefKey',\n    value: function _isRefKey(key) {\n      if (this.schema.child) {\n        for (var i = 0; i < this.schema.child.length; i++) {\n          if (this.schema.child[i] == key) {\n            return true;\n          }\n        }\n      }\n      return false;\n    }\n  }, {\n    key: '_getQuery',\n    value: function _getQuery(params) {\n      var q = new URLSearchParams();\n      for (var key in params) {\n        if (this._isRefKey(key)) {\n          var cp = key + \"_\";\n          for (var kk in params[key]) {\n            q.append(cp + kk, params[key][kk]);\n          }\n        } else {\n          var pvalue = params[key];\n          if (pvalue instanceof Array) {\n            for (var i = 0; i < pvalue.length; i++) {\n              q.append(key, pvalue[i]);\n            }\n          } else {\n            q.append(key, pvalue);\n          }\n        }\n      }\n      return q;\n    }\n  }, {\n    key: 'paged',\n    value: function paged(params) {\n      var q = this._getQuery(params);\n      q.set(\"_method\", \"get\");\n      return fetch(this.schema.queryUrl || this.schema.url, { method: 'POST', credentials: \"same-origin\", body: q });\n    }\n  }, {\n    key: 'create',\n    value: function create(value, ext) {\n      var data = new FormData();\n      data.append(this.schema.name, __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(value));\n      if (ext) {\n        for (var key in ext) {\n          data.append(key, ext[key]);\n        }\n      }\n      return fetch(this.schema.createUrl || this.schema.url, { method: 'POST', credentials: \"same-origin\", body: data });\n    }\n  }, {\n    key: 'update',\n    value: function update(value, params) {\n      var data = new FormData();\n      data.append(\"_method\", \"put\");\n      data.append(this.schema.name, __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(value));\n      var pp = this._getQuery(params);\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default()(pp.keys()), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var key = _step.value;\n\n          data.append(key, pp.get(key));\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return fetch(this.schema.updateUrl || this.schema.url, { method: 'POST', credentials: \"same-origin\", body: data });\n    }\n  }, {\n    key: 'remove',\n    value: function remove(params) {\n      var q = this._getQuery(params);\n      q.set(\"_method\", \"delete\");\n      return fetch(this.schema.deleteUrl || this.schema.url, { method: 'POST', credentials: \"same-origin\", body: q });\n    }\n  }]);\n\n  return DataSource;\n}();\n\n\n\n/***/ }),\n\n/***/ 10:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return pageConfigs; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return dsConfigs; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty__ = __webpack_require__(18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty__);\n\n\nvar _dsConfigs;\n\nvar pageConfigs = {\n    \"example\": {\n        \"fieldMeta\": [{\n            name: \"id\",\n            label: \"主键\",\n            \"xType\": \"q-input\",\n            \"showInTable\": false,\n            \"showInForm\": false\n        }, {\n            name: \"name\",\n            label: \"名称\",\n            \"xType\": \"q-input\"\n        }, {\n            name: \"startTime\",\n            label: \"生效时间\",\n            \"xType\": \"q-date\"\n        }, {\n            name: \"appId\",\n            label: \"所属应用\",\n            \"xType\": \"q-select\",\n            \"bind\": \"\"\n        }]\n    },\n    \"roleMgr\": {\n        table: {\n            \"bind\": \"roleMgr\",\n            \"fieldMeta\": [{\n                name: \"id\",\n                label: \"主键\",\n                \"xType\": \"q-input\",\n                \"showInTable\": false,\n                \"showInForm\": false\n            }, {\n                name: \"name\",\n                label: \"名称\",\n                \"xType\": \"q-input\"\n            }, {\n                name: \"appId\",\n                label: \"所属应用\",\n                \"xType\": \"q-select\",\n                \"bind\": \"appMgr\",\n                \"showInForm\": false\n            }]\n        }\n\n    },\n    \"appMgr\": {\n        table: {\n            \"bind\": \"appMgr\",\n            \"fieldMeta\": [{\n                name: \"id\",\n                label: \"主键\",\n                \"xType\": \"q-input\",\n                \"showInTable\": false,\n                \"showInForm\": false\n            }, {\n                name: \"name\",\n                label: \"名称\",\n                \"xType\": \"q-input\"\n            }]\n        }\n\n    },\n    \"appPropertiesMgr\": {\n        table: {\n            \"bind\": \"appPropertiesMgr\",\n            \"fieldMeta\": [{\n                name: \"id\",\n                label: \"主键\",\n                \"xType\": \"q-input\",\n                \"showInTable\": false,\n                \"showInForm\": false\n            }, {\n                name: \"property\",\n                label: \"属性\",\n                \"xType\": \"q-input\"\n            }, {\n                name: \"value\",\n                label: \"值\",\n                \"xType\": \"q-input\"\n            }]\n        }\n\n    },\n    \"memberMgr\": {\n        table: {\n            \"bind\": \"memberMgr\",\n            \"fieldMeta\": [{\n                name: \"id\",\n                label: \"主键\",\n                \"xType\": \"q-input\",\n                \"showInTable\": false,\n                \"showInForm\": false\n            }, {\n                name: \"username\",\n                label: \"用户名\",\n                \"xType\": \"q-input\"\n            }, {\n                name: \"password\",\n                label: \"密码\",\n                \"xType\": \"q-input\"\n            }, {\n                name: \"nickname\",\n                label: \"昵称\",\n                \"xType\": \"q-input\"\n            }]\n        }\n    },\n    \"roleGroupMgr\": {\n        table: {\n            \"bind\": \"roleGroupMgr\",\n            \"fieldMeta\": [{\n                name: \"id\",\n                label: \"主键\",\n                \"xType\": \"q-input\",\n                \"showInTable\": false,\n                \"showInForm\": false\n            }, {\n                name: \"name\",\n                label: \"名称\",\n                \"xType\": \"q-input\"\n            }]\n        }\n    }\n};\n\nvar dsConfigs = (_dsConfigs = {\n    \"example\": {\n        queryUrl: '/rest/configServer/access/roleMgr',\n        createUrl: '',\n        updateUrl: '',\n        deleteUrl: '',\n        name: 'roleEntity',\n        alias: 'role'\n    },\n    \"roleMgr\": {\n        url: '/rest/configServer/access/roleMgr',\n        name: 'roleEntity',\n        alias: 'role',\n        child: ['rRelp']\n    },\n    \"pagePermissionMgr\": {\n        url: '/rest/configServer/access/pagePermissionMgr',\n        name: 'pagePermissionEntity',\n        alias: 'pagePermission'\n    },\n    \"roleRelPagePermissionMgr\": {\n        url: '/rest/configServer/access/roleRelPagePermissionMgr',\n        name: 'roleRelPagePermissionEntity',\n        alias: 'roleRelPagePermission'\n    },\n    \"apiPermissionMgr\": {\n        url: '/rest/configServer/access/apiPermissionMgr',\n        name: 'apiPermissionEntity',\n        alias: 'apiPermission'\n    }\n}, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_dsConfigs, \"apiPermissionMgr\", {\n    url: '/rest/configServer/access/apiPermissionMgr',\n    name: 'apiPermissionEntity',\n    alias: 'apiPermission'\n}), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_dsConfigs, \"roleRelApiPermissionMgr\", {\n    url: '/rest/configServer/access/roleRelApiPermissionMgr',\n    name: 'roleRelApiPermissionEntity',\n    alias: 'roleRelApiPermission'\n}), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_dsConfigs, \"appMgr\", {\n    url: '/rest/configServer/access/appMgr',\n    name: 'appEntity',\n    alias: 'app'\n}), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_dsConfigs, \"appPropertiesMgr\", {\n    url: '/rest/configServer/access/appPropertiesMgr',\n    name: 'appPropertiesEntity',\n    alias: 'ap'\n}), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_dsConfigs, \"memberMgr\", {\n    url: '/rest/configServer/access/memberMgr',\n    name: 'memberEntity',\n    alias: 'member',\n    child: ['mRelrg']\n}), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_dsConfigs, \"roleGroupMgr\", {\n    url: '/rest/configServer/access/roleGroupMgr',\n    name: 'roleGroupEntity',\n    alias: 'roleGroup',\n    child: ['rgRelr']\n}), _dsConfigs);\n\n\n\n/***/ }),\n\n/***/ 11:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 117:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_TablePage_vue__ = __webpack_require__(24);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_TablePage_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_TablePage_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_BizTransfer_vue__ = __webpack_require__(39);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_BizTransfer_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_BizTransfer_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_BizTree_vue__ = __webpack_require__(182);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_BizTree_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__components_BizTree_vue__);\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  components: {\n    tablePage: __WEBPACK_IMPORTED_MODULE_0__components_TablePage_vue___default.a, bizTransfer: __WEBPACK_IMPORTED_MODULE_1__components_BizTransfer_vue___default.a, bizTree: __WEBPACK_IMPORTED_MODULE_2__components_BizTree_vue___default.a\n  },\n  data: function data() {\n    return {\n      showTable: 0,\n      selectedItems: [],\n      currentRoleId: null,\n      transferConfig: {}\n    };\n  },\n  methods: {\n    itemSelectEvent: function itemSelectEvent(selection) {\n      this.selectedItems = selection;\n    },\n    _judgeSelected: function _judgeSelected() {\n      var res = true;\n      var len = this.selectedItems.length;\n      if (0 == len) {\n        this.$Modal.warning({ content: \"请选中一项！\" });\n        res = false;\n      }\n      return res;\n    },\n    openPageSet: function openPageSet(param) {\n      if (this._judgeSelected()) {\n        this.transferConfig = {\n          \"left\": {\n            \"ds\": \"pagePermissionMgr\",\n            \"valueKey\": \"id\",\n            \"textKey\": \"path\"\n          },\n          \"right\": {\n            \"ds\": \"roleMgr\",\n            \"filterKey\": \"roleId\",\n            \"filterValue\": this.selectedItems[0].id,\n            \"valueKey\": \"pageId\"\n          }\n        };\n        this.showTable = 1;\n      };\n    },\n    openApiSet: function openApiSet() {\n      if (this._judgeSelected()) {\n\n        this.showTable = 2;\n        this.currentRoleId = this.selectedItems[0].id;\n      }\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 12:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"layout\",\n    class: {\n      'layout-hide-text': _vm.spanLeft < 5\n    }\n  }, [_c('Row', {\n    attrs: {\n      \"type\": \"flex\"\n    }\n  }, [_c('i-col', {\n    staticClass: \"layout-menu-left\",\n    attrs: {\n      \"span\": _vm.spanLeft\n    }\n  }, [_c('Menu', {\n    attrs: {\n      \"active-name\": _vm.activeMenu,\n      \"theme\": \"dark\",\n      \"width\": \"auto\"\n    }\n  }, [_c('div', {\n    staticClass: \"layout-logo-left\"\n  }, [_c('Dropdown', {\n    staticStyle: {\n      \"margin\": \"5px 0px 0px 5px\"\n    },\n    attrs: {\n      \"placement\": \"bottom-start\",\n      \"trigger\": \"click\"\n    },\n    on: {\n      \"on-click\": _vm.changeApp\n    }\n  }, [_c('a', {\n    staticStyle: {\n      \"color\": \"rgb(158, 167, 180)\"\n    },\n    attrs: {\n      \"href\": \"javascript:void(0)\"\n    }\n  }, [_vm._v(\"\\n              应用: \" + _vm._s(_vm.currentApp.name) + \"\\n              \"), _c('Icon', {\n    attrs: {\n      \"type\": \"arrow-down-b\"\n    }\n  })], 1), _vm._v(\" \"), _c('Dropdown-menu', {\n    slot: \"list\"\n  }, [_vm._l((_vm.appArr), function(item) {\n    return _c('Dropdown-item', {\n      attrs: {\n        \"name\": item.id\n      }\n    }, [_vm._v(_vm._s(item.name))])\n  }), _vm._v(\" \"), _c('Dropdown-item', {\n    attrs: {\n      \"divided\": \"\"\n    }\n  }, [_vm._v(\"应用管理\")])], 2)], 1)], 1), _vm._v(\" \"), _c('Menu-item', {\n    attrs: {\n      \"name\": \"appMgr\"\n    }\n  }, [_c('Icon', {\n    attrs: {\n      \"type\": \"ios-keypad\",\n      \"size\": _vm.iconSize\n    }\n  }), _vm._v(\" \"), _c('a', {\n    staticClass: \"layout-text\",\n    attrs: {\n      \"href\": \"appMgr.html\"\n    }\n  }, [_vm._v(\"应用管理\")])], 1), _vm._v(\" \"), _c('Menu-item', {\n    attrs: {\n      \"name\": \"memberMgr\"\n    }\n  }, [_c('Icon', {\n    attrs: {\n      \"type\": \"ios-keypad\",\n      \"size\": _vm.iconSize\n    }\n  }), _vm._v(\" \"), _c('a', {\n    staticClass: \"layout-text\",\n    attrs: {\n      \"href\": 'memberMgr.html?appId=' + _vm.currentApp.id\n    }\n  }, [_vm._v(\"用户管理\")])], 1), _vm._v(\" \"), _c('Menu-item', {\n    attrs: {\n      \"name\": \"roleGroupMgr\"\n    }\n  }, [_c('Icon', {\n    attrs: {\n      \"type\": \"ios-keypad\",\n      \"size\": _vm.iconSize\n    }\n  }), _vm._v(\" \"), _c('a', {\n    staticClass: \"layout-text\",\n    attrs: {\n      \"href\": 'roleGroupMgr.html?appId=' + _vm.currentApp.id\n    }\n  }, [_vm._v(\"角色组管理\")])], 1), _vm._v(\" \"), _c('Menu-item', {\n    attrs: {\n      \"name\": \"roleMgr\"\n    }\n  }, [_c('Icon', {\n    attrs: {\n      \"type\": \"ios-analytics\",\n      \"size\": _vm.iconSize\n    }\n  }), _vm._v(\" \"), _c('a', {\n    staticClass: \"layout-text\",\n    attrs: {\n      \"href\": 'roleMgr.html?appId=' + _vm.currentApp.id\n    }\n  }, [_vm._v(\"角色管理\")])], 1), _vm._v(\" \"), _c('Menu-item', {\n    attrs: {\n      \"name\": \"appPropertiesMgr\"\n    }\n  }, [_c('Icon', {\n    attrs: {\n      \"type\": \"ios-keypad\",\n      \"size\": _vm.iconSize\n    }\n  }), _vm._v(\" \"), _c('a', {\n    staticClass: \"layout-text\",\n    attrs: {\n      \"href\": 'appPropertiesMgr.html?appId=' + _vm.currentApp.id\n    }\n  }, [_vm._v(\"应用参配\")])], 1), _vm._v(\" \"), _c('Menu-item', {\n    attrs: {\n      \"name\": \"pageMgr\"\n    }\n  }, [_c('Icon', {\n    attrs: {\n      \"type\": \"ios-analytics\",\n      \"size\": _vm.iconSize\n    }\n  }), _vm._v(\" \"), _c('a', {\n    staticClass: \"layout-text\",\n    attrs: {\n      \"href\": 'pageMgr.html?appId=' + _vm.currentApp.id\n    }\n  }, [_vm._v(\"页面管理\")])], 1), _vm._v(\" \"), _c('Menu-item', {\n    attrs: {\n      \"name\": \"apiMgr\"\n    }\n  }, [_c('Icon', {\n    attrs: {\n      \"type\": \"ios-analytics\",\n      \"size\": _vm.iconSize\n    }\n  }), _vm._v(\" \"), _c('a', {\n    staticClass: \"layout-text\",\n    attrs: {\n      \"href\": 'apiMgr.html?appId=' + _vm.currentApp.id\n    }\n  }, [_vm._v(\"API管理\")])], 1)], 1)], 1), _vm._v(\" \"), _c('i-col', {\n    attrs: {\n      \"span\": _vm.spanRight\n    }\n  }, [_c('div', {\n    staticClass: \"layout-header\"\n  }, [_c('i-button', {\n    attrs: {\n      \"type\": \"text\"\n    },\n    on: {\n      \"click\": _vm.toggleClick\n    }\n  }, [_c('Icon', {\n    attrs: {\n      \"type\": \"navicon\",\n      \"size\": \"32\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"layout-breadcrumb\"\n  }, [_c('Breadcrumb', [_c('Breadcrumb-item', {\n    attrs: {\n      \"href\": \"#\"\n    }\n  }, [_vm._v(\"首页\")]), _vm._v(\" \"), _c('Breadcrumb-item', {\n    attrs: {\n      \"href\": \"#\"\n    }\n  }, [_vm._v(\"应用中心\")]), _vm._v(\" \"), _c('Breadcrumb-item', [_vm._v(\"某应用\")])], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"layout-content\"\n  }, [_c('div', {\n    staticClass: \"layout-content-main\"\n  }, [_vm._t(\"default\")], 2)])])], 1)], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 127:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__common_js__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__RoleMgr_vue__ = __webpack_require__(96);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__RoleMgr_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__RoleMgr_vue__);\n\n\n\nnew __WEBPACK_IMPORTED_MODULE_0__common_js__[\"Vue\"]({\n  el: '#roleMgr',\n  components: { RoleMgr: __WEBPACK_IMPORTED_MODULE_1__RoleMgr_vue___default.a }\n});\n\n/***/ }),\n\n/***/ 176:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 177:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 182:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(177)\n\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(99),\n  /* template */\n  __webpack_require__(199),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 198:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('Layout', {\n    attrs: {\n      \"activeMenu\": \"roleMgr\"\n    }\n  }, [(_vm.showTable == 0) ? _c('table-page', {\n    attrs: {\n      \"pageName\": \"roleMgr\"\n    },\n    on: {\n      \"itemSelectEvent\": _vm.itemSelectEvent\n    }\n  }, [_c('Button', {\n    attrs: {\n      \"type\": \"info\"\n    },\n    on: {\n      \"click\": _vm.openPageSet\n    },\n    slot: \"toolbar\"\n  }, [_vm._v(\"菜单配置\")]), _vm._v(\" \"), _c('Button', {\n    staticStyle: {\n      \"margin-left\": \"5px\"\n    },\n    attrs: {\n      \"type\": \"info\"\n    },\n    on: {\n      \"click\": _vm.openApiSet\n    },\n    slot: \"toolbar\"\n  }, [_vm._v(\"API配置\")])], 1) : _vm._e(), _vm._v(\" \"), (_vm.showTable == 1) ? _c('biz-transfer', {\n    attrs: {\n      \"closeTransfer\": _vm.showTable,\n      \"config\": _vm.transferConfig\n    },\n    on: {\n      \"update:closeTransfer\": function($event) {\n        _vm.showTable = $event\n      }\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.showTable == 2) ? _c('biz-tree', {\n    attrs: {\n      \"closeTree\": _vm.showTable,\n      \"currentRoleId\": _vm.currentRoleId\n    },\n    on: {\n      \"update:closeTree\": function($event) {\n        _vm.showTable = $event\n      }\n    }\n  }) : _vm._e()], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 199:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"biz-transfer\"\n  }, [_vm._m(0), _vm._v(\" \"), _c('Tree', {\n    attrs: {\n      \"data\": _vm.baseData,\n      \"show-checkbox\": \"\"\n    },\n    on: {\n      \"on-check-change\": _vm.checkChange\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"margin-top\": \"15px\"\n    }\n  }, [_c('i-button', {\n    attrs: {\n      \"type\": \"text\"\n    },\n    on: {\n      \"click\": _vm.cancel\n    }\n  }, [_vm._v(\"取消\")]), _vm._v(\" \"), _c('i-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.handleSave\n    }\n  }, [_vm._v(\"保存\")])], 1)], 1)\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"ivu-card-head\",\n    staticStyle: {\n      \"margin-bottom\": \"15px\"\n    }\n  }, [_c('p', [_vm._v(\"权限配置\")])])\n}]}\n\n/***/ }),\n\n/***/ 2:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__PageConfigs_js__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__utils_dataSource_js__ = __webpack_require__(0);\n\n\n\n\n\n\n\n\nvar apis = {};\nfunction sendRequest(path, data, noNeedRoot) {\n  return new __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise___default.a(function (resolve, reject) {\n    if (true !== noNeedRoot) {\n      path = serviceRootPath + path;\n    }\n    $.post(path, data, function (res) {\n      resolve(res);\n    }, 'json');\n  });\n}\n\napis.phoneRegisted = function () {\n  var _ref = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function _callee(phone) {\n    var path, data;\n    return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            path = \"register?_cnd=exists&_method=GET&_pageSize=20&_pageNo=1\";\n            data = {\n              \"$phone\": phone\n            };\n            _context.next = 4;\n            return sendRequest(path, data);\n\n          case 4:\n            return _context.abrupt(\"return\", _context.sent);\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\napis.insertUser = function () {\n  var _ref2 = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function _callee2(paramObj) {\n    var path, data;\n    return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            path = \"register?_method=POST\";\n            data = {\n              \"$user\": __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(paramObj)\n            };\n            _context2.next = 4;\n            return sendRequest(path, data);\n\n          case 4:\n            return _context2.abrupt(\"return\", _context2.sent);\n\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  return function (_x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\napis.getPageConfig = function (pageName) {\n  return __WEBPACK_IMPORTED_MODULE_4__PageConfigs_js__[\"a\" /* pageConfigs */][pageName];\n};\napis.getDSConfig = function (dsName) {\n  return __WEBPACK_IMPORTED_MODULE_4__PageConfigs_js__[\"b\" /* dsConfigs */][dsName];\n};\n\napis.getDataSource = function (dsName) {\n  return new __WEBPACK_IMPORTED_MODULE_5__utils_dataSource_js__[\"a\" /* DataSource */](this.getDSConfig(dsName));\n};\napis.getPagedByDS = function () {\n  var _ref3 = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function _callee3(ds, callback, param, withoutApp) {\n    var response, data;\n    return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            if (!param) {\n              param = {};\n            }\n            if (!withoutApp && this.getAppId) {\n              param.appId = this.getAppId();\n            }\n            _context3.next = 4;\n            return ds.paged(param);\n\n          case 4:\n            response = _context3.sent;\n            _context3.next = 7;\n            return response.json();\n\n          case 7:\n            data = _context3.sent;\n\n            if (data.success) {\n              callback && callback(data);\n            }\n            return _context3.abrupt(\"return\", data);\n\n          case 10:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this);\n  }));\n\n  return function (_x3, _x4, _x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}();\napis.getAppId = function () {\n  return _getQueryString(\"appId\");\n};\nfunction _getQueryString(name) {\n  var reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\", \"i\");\n  var r = window.location.search.substr(1).match(reg);\n  var context = \"\";\n  if (r != null) context = r[2];\n  reg = null;\n  r = null;\n  return context == null || context == \"\" || context == \"undefined\" ? \"\" : context;\n}\n/* harmony default export */ __webpack_exports__[\"a\"] = (apis);\n\n/***/ }),\n\n/***/ 20:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils_dataSource_js__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__store_DataCenter_js__ = __webpack_require__(2);\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  props: ['showDialog', 'formData', 'formMeta'],\n  data: function data() {\n    var selectDatas = {};\n    for (var i = 0, len = this.formMeta.length; i < len; i++) {\n      var item = this.formMeta[i];\n      if ('q-select' == item.xType) {\n        selectDatas[item.name] = [];\n      }\n    }\n\n    return {\n      loading: true,\n      selectDatas: selectDatas\n    };\n  },\n  computed: {\n    open: function open() {\n      return this.showDialog;\n    },\n    formDatas: function formDatas() {\n      return this.formData;\n    }\n  },\n  mounted: function () {\n    var _ref = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee() {\n      var selectDatas, i, len, item, dsBind, response, data;\n      return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              selectDatas = {};\n              i = 0, len = this.formMeta.length;\n\n            case 2:\n              if (!(i < len)) {\n                _context.next = 17;\n                break;\n              }\n\n              item = this.formMeta[i];\n\n              if (!('q-select' == item.xType)) {\n                _context.next = 14;\n                break;\n              }\n\n              dsBind = item.bind;\n\n              this.ds = new __WEBPACK_IMPORTED_MODULE_2__utils_dataSource_js__[\"a\" /* DataSource */](__WEBPACK_IMPORTED_MODULE_3__store_DataCenter_js__[\"a\" /* default */].getDSConfig(dsBind));\n\n              _context.next = 9;\n              return this.ds.paged();\n\n            case 9:\n              response = _context.sent;\n              _context.next = 12;\n              return response.json();\n\n            case 12:\n              data = _context.sent;\n\n              if (data.success) {\n                selectDatas[item.name] = data.result;\n              }\n\n            case 14:\n              i++;\n              _context.next = 2;\n              break;\n\n            case 17:\n              this.selectDatas = selectDatas;\n\n            case 18:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  methods: {\n    handleSave: function handleSave() {\n      this.$emit('handleItemChange', this.formDatas, this);\n    },\n    cancel: function cancel() {\n      this.$emit('update:showDialog', false);\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 21:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(31);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__store_DataCenter_js__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__FormDialog_vue__ = __webpack_require__(23);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__FormDialog_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__FormDialog_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__utils_dataSource_js__ = __webpack_require__(0);\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  props: ['pageName'],\n  components: { formDialog: __WEBPACK_IMPORTED_MODULE_4__FormDialog_vue___default.a },\n  data: function data() {\n    return {\n      tableMeta: [],\n      tableData: [],\n      selectedItems: [],\n      openFlag: false,\n      showDialog: false,\n      formMeta: [],\n      formData: null\n    };\n  },\n  mounted: function mounted() {\n    var config = __WEBPACK_IMPORTED_MODULE_3__store_DataCenter_js__[\"a\" /* default */].getPageConfig(this.pageName).table;\n    var meta = this._preHandleMeta(config.fieldMeta);\n    this.tableMeta = meta.table;\n    this.formMeta = meta.form;\n\n    this.ds = __WEBPACK_IMPORTED_MODULE_3__store_DataCenter_js__[\"a\" /* default */].getDataSource(config.bind);\n    this._refreshTable();\n  },\n  methods: {\n    _preHandleMeta: function _preHandleMeta(fieldMeta) {\n      var res = {\n        table: [{\n          type: 'selection',\n          width: 60,\n          align: 'center'\n        }],\n        form: []\n      };\n      if (fieldMeta) {\n        for (var i = 0, len = fieldMeta.length; i < len; i++) {\n          var item = fieldMeta[i];\n          if (false != item.showInTable) {\n            var column = {};\n            column.title = item.label;\n            column.key = item.name;\n            if (\"q-select\" == item.xType) {\n              column.key = item.name + \"$display$\";\n            }\n\n            res.table.push(column);\n          }\n          if (false != item.showInForm) {\n            res.form.push(item);\n\n            if (!this.initFormData) {\n              this.initFormData = {};\n            }\n            this.initFormData[item.name] = \"\";\n          }\n        }\n      }\n      return res;\n    },\n    _refreshTable: function () {\n      var _ref = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function _callee() {\n        var data;\n        return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return __WEBPACK_IMPORTED_MODULE_3__store_DataCenter_js__[\"a\" /* default */].getPagedByDS(this.ds);\n\n              case 2:\n                data = _context.sent;\n\n                if (data.success) {\n                  this.tableData = data.result;\n                }\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function _refreshTable() {\n        return _ref.apply(this, arguments);\n      }\n\n      return _refreshTable;\n    }(),\n    addItem: function addItem() {\n      this.operType = \"add\";\n      this.formData = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, this.initFormData);\n      this.openFlag = true;\n      this.showDialog = true;\n    },\n    updateItem: function updateItem() {\n      if (0 == this.selectedItems.length) {\n        this.$Modal.warning({ content: \"请至少选中一项！\" });\n      } else {\n        this.operType = \"update\";\n        this.formData = this.selectedItems[0];\n        this.openFlag = true;\n        this.showDialog = true;\n      }\n    },\n    deleteItems: function deleteItems() {\n      var len = this.selectedItems.length;\n      if (0 == len) {\n        this.$Modal.warning({ content: \"请至少选中一项！\" });\n      } else {\n        var that = this;\n        this.$Modal.confirm({\n          content: \"确定删除所选项吗？\",\n          onOk: function onOk() {\n            that.operType = \"delete\";\n            var param = { ids: [] };\n            for (var i = 0; i < len; i++) {\n              param.ids.push(that.selectedItems[i].id);\n            }\n            that.handleItemChange(param);\n          }\n        });\n      }\n    },\n    itemSelected: function itemSelected(selection, row) {\n      this.selectedItems = selection;\n      this.$emit(\"itemSelectEvent\", selection);\n    },\n    handleItemChange: function () {\n      var _ref2 = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function _callee2(param, dialogVM) {\n        var res, response, appId, data;\n        return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                res = false;\n                response = void 0;\n                appId = __WEBPACK_IMPORTED_MODULE_3__store_DataCenter_js__[\"a\" /* default */].getAppId();\n\n                if (!(!appId && this.pageName != \"appMgr\")) {\n                  _context2.next = 7;\n                  break;\n                }\n\n                this.$Modal.error({ content: \"未选中项目!\" });\n                _context2.next = 29;\n                break;\n\n              case 7:\n                if (!(\"add\" == this.operType)) {\n                  _context2.next = 14;\n                  break;\n                }\n\n                if (this.pageName != \"appMgr\") {\n                  param.appId = appId;\n                }\n\n                _context2.next = 11;\n                return this.ds.create(param);\n\n              case 11:\n                response = _context2.sent;\n                _context2.next = 24;\n                break;\n\n              case 14:\n                if (!(\"update\" == this.operType)) {\n                  _context2.next = 20;\n                  break;\n                }\n\n                _context2.next = 17;\n                return this.ds.update(param, { id: param.id });\n\n              case 17:\n                response = _context2.sent;\n                _context2.next = 24;\n                break;\n\n              case 20:\n                if (!(\"delete\" == this.operType)) {\n                  _context2.next = 24;\n                  break;\n                }\n\n                _context2.next = 23;\n                return this.ds.remove(param);\n\n              case 23:\n                response = _context2.sent;\n\n              case 24:\n                _context2.next = 26;\n                return response.json();\n\n              case 26:\n                data = _context2.sent;\n\n                res = data.success;\n                if (res) {\n                  this.$Modal.success({ content: \"操作成功!\" });\n                  this.showDialog = false;\n                  this._refreshTable();\n                } else {\n                  this.$Modal.error({ content: \"操作失败!\" });\n                }\n\n              case 29:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function handleItemChange(_x, _x2) {\n        return _ref2.apply(this, arguments);\n      }\n\n      return handleItemChange;\n    }()\n  }\n\n});\n\n/***/ }),\n\n/***/ 23:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(20),\n  /* template */\n  __webpack_require__(26),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 24:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(21),\n  /* template */\n  __webpack_require__(25),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 25:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('div', {\n    staticStyle: {\n      \"margin\": \"15px\"\n    }\n  }, [_c('Button', {\n    attrs: {\n      \"type\": \"info\"\n    },\n    on: {\n      \"click\": _vm.addItem\n    }\n  }, [_vm._v(\"新增\")]), _vm._v(\" \"), _c('Button', {\n    attrs: {\n      \"type\": \"info\"\n    },\n    on: {\n      \"click\": _vm.updateItem\n    }\n  }, [_vm._v(\"修改\")]), _vm._v(\" \"), _c('Button', {\n    attrs: {\n      \"type\": \"warning\"\n    },\n    on: {\n      \"click\": _vm.deleteItems\n    }\n  }, [_vm._v(\"删除\")]), _vm._v(\" \"), _vm._t(\"toolbar\")], 2), _vm._v(\" \"), _c('Table', {\n    attrs: {\n      \"border\": \"\",\n      \"columns\": _vm.tableMeta,\n      \"data\": _vm.tableData\n    },\n    on: {\n      \"on-selection-change\": _vm.itemSelected\n    }\n  }), _vm._v(\" \"), (_vm.openFlag) ? _c('form-dialog', {\n    attrs: {\n      \"formData\": _vm.formData,\n      \"formMeta\": _vm.formMeta,\n      \"showDialog\": _vm.showDialog\n    },\n    on: {\n      \"update:showDialog\": function($event) {\n        _vm.showDialog = $event\n      },\n      \"handleItemChange\": _vm.handleItemChange\n    }\n  }) : _vm._e()], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 26:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('Modal', {\n    attrs: {\n      \"title\": \"编辑\",\n      \"mask-closable\": false\n    },\n    on: {\n      \"on-cancel\": _vm.cancel\n    },\n    model: {\n      value: (_vm.open),\n      callback: function($$v) {\n        _vm.open = $$v\n      },\n      expression: \"open\"\n    }\n  }, [_c('Form', {\n    attrs: {\n      \"model\": _vm.formDatas,\n      \"label-width\": 80\n    }\n  }, _vm._l((_vm.formMeta), function(item) {\n    return _c('Form-item', {\n      key: item.name,\n      attrs: {\n        \"label\": item.label\n      }\n    }, [('q-input' == item.xType) ? _c('Input', {\n      attrs: {\n        \"placeholder\": \"请输入\"\n      },\n      model: {\n        value: (_vm.formDatas[item.name]),\n        callback: function($$v) {\n          var $$exp = _vm.formDatas,\n            $$idx = item.name;\n          if (!Array.isArray($$exp)) {\n            _vm.formDatas[item.name] = $$v\n          } else {\n            $$exp.splice($$idx, 1, $$v)\n          }\n        },\n        expression: \"formDatas[item.name]\"\n      }\n    }) : _vm._e(), _vm._v(\" \"), ('q-date' == item.xType) ? _c('Date-picker', {\n      attrs: {\n        \"type\": \"datetime\",\n        \"format\": \"yyyy-MM-dd HH:mm\",\n        \"placeholder\": \"选择日期\"\n      },\n      model: {\n        value: (_vm.formDatas[item.name]),\n        callback: function($$v) {\n          var $$exp = _vm.formDatas,\n            $$idx = item.name;\n          if (!Array.isArray($$exp)) {\n            _vm.formDatas[item.name] = $$v\n          } else {\n            $$exp.splice($$idx, 1, $$v)\n          }\n        },\n        expression: \"formDatas[item.name]\"\n      }\n    }) : _vm._e(), _vm._v(\" \"), ('q-select' == item.xType) ? _c('Select', {\n      attrs: {\n        \"placeholder\": \"请选择\"\n      },\n      model: {\n        value: (_vm.formDatas[item.name]),\n        callback: function($$v) {\n          var $$exp = _vm.formDatas,\n            $$idx = item.name;\n          if (!Array.isArray($$exp)) {\n            _vm.formDatas[item.name] = $$v\n          } else {\n            $$exp.splice($$idx, 1, $$v)\n          }\n        },\n        expression: \"formDatas[item.name]\"\n      }\n    }, _vm._l((_vm.selectDatas[item.name]), function(option) {\n      return _c('Option', {\n        key: item.valueKey || 'id',\n        attrs: {\n          \"value\": option[item.valueKey || 'id']\n        }\n      }, [_vm._v(_vm._s(option[item.textKey || 'name']))])\n    })) : _vm._e()], 1)\n  })), _vm._v(\" \"), _c('div', {\n    slot: \"footer\"\n  }, [_c('i-button', {\n    attrs: {\n      \"type\": \"text\"\n    },\n    on: {\n      \"click\": _vm.cancel\n    }\n  }, [_vm._v(\"取消\")]), _vm._v(\" \"), _c('i-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.handleSave\n    }\n  }, [_vm._v(\"保存\")])], 1)], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 34:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty__ = __webpack_require__(18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_dataSource_js__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__store_DataCenter_js__ = __webpack_require__(2);\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  props: ['closeTransfer', \"config\"],\n  data: function data() {\n    return {\n      data: [],\n      targetKeys: []\n    };\n  },\n  mounted: function mounted() {\n    this._refreshListData(this.config);\n  },\n  methods: {\n    _refreshListData: function () {\n      var _ref = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function _callee(config) {\n        var leftConfig, data, dataArr, i, len, item, textKey, text, rightConfig, data2, targetArr, dataArr2, j, _len, item2;\n\n        return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                leftConfig = config.left;\n\n                this.leftDS = __WEBPACK_IMPORTED_MODULE_4__store_DataCenter_js__[\"a\" /* default */].getDataSource(leftConfig.ds);\n                _context.next = 4;\n                return __WEBPACK_IMPORTED_MODULE_4__store_DataCenter_js__[\"a\" /* default */].getPagedByDS(this.leftDS);\n\n              case 4:\n                data = _context.sent;\n\n                if (data.success) {\n                  dataArr = [];\n\n                  for (i = 0, len = data.result.length; i < len; i++) {\n                    item = data.result[i];\n                    textKey = leftConfig.textKey;\n                    text = void 0;\n\n                    if ('string' == typeof textKey) {\n                      text = item[textKey];\n                    } else {\n                      text = textKey(item);\n                    }\n                    dataArr.push({\n                      \"key\": item[leftConfig.valueKey],\n                      \"label\": text\n                    });\n                  }\n                  this.data = dataArr;\n                }\n                rightConfig = config.right;\n\n                this.rightDS = __WEBPACK_IMPORTED_MODULE_4__store_DataCenter_js__[\"a\" /* default */].getDataSource(rightConfig.ds);\n                _context.next = 10;\n                return __WEBPACK_IMPORTED_MODULE_4__store_DataCenter_js__[\"a\" /* default */].getPagedByDS(this.rightDS, null, { id: rightConfig.filterValue });\n\n              case 10:\n                data2 = _context.sent;\n\n\n                if (data2.success) {\n                  targetArr = [];\n                  dataArr2 = data2.result[0][this.rightDS.schema.child[0]];\n\n                  if (dataArr2) {\n                    for (j = 0, _len = dataArr2.length; j < _len; j++) {\n                      item2 = dataArr2[j];\n\n                      targetArr.push(item2[rightConfig.valueKey]);\n                    }\n                    this.targetKeys = targetArr;\n                  }\n                }\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function _refreshListData(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return _refreshListData;\n    }(),\n    handleChange: function handleChange(newTargetKeys) {\n      this.targetKeys = newTargetKeys;\n    },\n    cancel: function cancel() {\n      this.$emit('update:closeTransfer', 0);\n    },\n    handleSave: function () {\n      var _ref2 = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function _callee2() {\n        var appId, res, relArr, i, len, item, response, data;\n        return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                appId = __WEBPACK_IMPORTED_MODULE_4__store_DataCenter_js__[\"a\" /* default */].getAppId();\n\n                if (appId) {\n                  _context2.next = 5;\n                  break;\n                }\n\n                this.$Modal.error({ content: \"未选中项目!\" });\n                _context2.next = 20;\n                break;\n\n              case 5:\n                res = false;\n\n                if (!this.targetKeys) {\n                  _context2.next = 18;\n                  break;\n                }\n\n                relArr = [];\n\n                for (i = 0, len = this.targetKeys.length; i < len; i++) {\n                  item = this.targetKeys[i];\n\n                  relArr.push(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()({\n                    appId: appId\n                  }, this.config.right.valueKey, item));\n                }\n                _context2.next = 11;\n                return this.rightDS.update(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()({ id: this.config.right.filterValue }, this.rightDS.schema.child[0], relArr), { id: this.config.right.filterValue });\n\n              case 11:\n                response = _context2.sent;\n                _context2.next = 14;\n                return response.json();\n\n              case 14:\n                data = _context2.sent;\n\n                res = data.success;\n                _context2.next = 19;\n                break;\n\n              case 18:\n                res = true;\n\n              case 19:\n                if (res) {\n                  this.$Modal.success({ content: \"保存成功!\" });\n                  this.cancel();\n                } else {\n                  this.$Modal.error({ content: \"保存失败!\" });\n                }\n\n              case 20:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function handleSave() {\n        return _ref2.apply(this, arguments);\n      }\n\n      return handleSave;\n    }()\n  }\n});\n\n/***/ }),\n\n/***/ 38:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 39:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(38)\n\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(34),\n  /* template */\n  __webpack_require__(40),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 40:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"biz-transfer\"\n  }, [_vm._m(0), _vm._v(\" \"), _c('Transfer', {\n    attrs: {\n      \"data\": _vm.data,\n      \"target-keys\": _vm.targetKeys\n    },\n    on: {\n      \"on-change\": _vm.handleChange\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"margin-top\": \"15px\"\n    }\n  }, [_c('i-button', {\n    attrs: {\n      \"type\": \"text\"\n    },\n    on: {\n      \"click\": _vm.cancel\n    }\n  }, [_vm._v(\"取消\")]), _vm._v(\" \"), _c('i-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.handleSave\n    }\n  }, [_vm._v(\"保存\")])], 1)], 1)\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"ivu-card-head\",\n    staticStyle: {\n      \"margin-bottom\": \"15px\"\n    }\n  }, [_c('p', [_vm._v(\"权限配置\")])])\n}]}\n\n/***/ }),\n\n/***/ 6:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(17);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_iview__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_iview___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_iview__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__node_modules_iview_dist_styles_iview_css__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__node_modules_iview_dist_styles_iview_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__node_modules_iview_dist_styles_iview_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_Layout_vue__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_Layout_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__components_Layout_vue__);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"Vue\", function() { return __WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"]; });\n\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].use(__WEBPACK_IMPORTED_MODULE_1_iview___default.a);\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].component(\"Layout\", __WEBPACK_IMPORTED_MODULE_3__components_Layout_vue___default.a);\n\n\n\n/***/ }),\n\n/***/ 7:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 8:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(11)\n\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(9),\n  /* template */\n  __webpack_require__(12),\n  /* scopeId */\n  \"data-v-1fe8eacb\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 9:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__store_DataCenter_js__ = __webpack_require__(2);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  props: ['activeMenu'],\n  data: function data() {\n    return {\n      currentApp: { name: \"暂无应用\" },\n      appArr: [],\n      spanLeft: 5,\n      spanRight: 19,\n      appList: []\n    };\n  },\n\n  computed: {\n    iconSize: function iconSize() {\n      return this.spanLeft === 5 ? 14 : 24;\n    }\n  },\n  mounted: function mounted() {\n    this.ds = __WEBPACK_IMPORTED_MODULE_0__store_DataCenter_js__[\"a\" /* default */].getDataSource(\"appMgr\");\n    var that = this;\n    var urlAppId = __WEBPACK_IMPORTED_MODULE_0__store_DataCenter_js__[\"a\" /* default */].getAppId();\n    __WEBPACK_IMPORTED_MODULE_0__store_DataCenter_js__[\"a\" /* default */].getPagedByDS(this.ds, function (data) {\n      var appArr = [];\n      var index = 0;\n      for (var i = 0, len = data.result.length; i < len; i++) {\n        var item = data.result[i];\n        appArr.push({\n          id: item.id,\n          name: item.name\n        });\n        if (urlAppId == item.id) {\n          index = i;\n        }\n      };\n      that.appArr = appArr;\n      if (appArr.length > 0) {\n        that.currentApp = appArr[index];\n      }\n    }, null, true);\n  },\n  methods: {\n    changeApp: function changeApp(id) {\n      var name;\n      this.appArr.every(function (item, index, arry) {\n        if (id == item.id) {\n          name = item.name;\n          return false;\n        }\n        return true;\n      });\n\n      this.currentApp = {\n        id: id,\n        name: name\n      };\n      location.href = location.pathname + \"?appId=\" + id;\n    },\n    toggleClick: function toggleClick() {\n      if (this.spanLeft === 5) {\n        this.spanLeft = 2;\n        this.spanRight = 22;\n      } else {\n        this.spanLeft = 5;\n        this.spanRight = 19;\n      }\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 96:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(176)\n\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(117),\n  /* template */\n  __webpack_require__(198),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 99:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__store_DataCenter_js__ = __webpack_require__(2);\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    props: ['closeTree', \"currentRoleId\"],\n\n    data: function data() {\n        return {\n            baseData: []\n        };\n    },\n    mounted: function mounted() {\n        this._refreshTreeData(this.config);\n    },\n    methods: {\n        _refreshTreeData: function () {\n            var _ref = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function _callee(config) {\n                var that;\n                return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                _context.next = 2;\n                                return this._getOldCheckedMap();\n\n                            case 2:\n                                that = this;\n\n                                this.ds = __WEBPACK_IMPORTED_MODULE_3__store_DataCenter_js__[\"a\" /* default */].getDataSource(\"apiPermissionMgr\");\n                                __WEBPACK_IMPORTED_MODULE_3__store_DataCenter_js__[\"a\" /* default */].getPagedByDS(this.ds, function (data) {\n                                    that.baseData = that._parseToTreeData(data);\n\n                                    document.getElementsByClassName(\"ivu-tree\")[0].addEventListener(\"click\", function (event) {\n                                        var target = event.target;\n                                        if (\"INPUT\" == target.tagName) {\n                                            var ruleSpan = target.parentNode.parentNode.parentNode.querySelector('[class=\"rule-span\"]');\n                                            var ruleId = ruleSpan.dataset.id;\n                                            var serviceId = ruleSpan.dataset.pid;\n                                            that._updateRuleChecked(ruleId, serviceId);\n                                        }\n                                    }, true);\n                                });\n\n                            case 5:\n                            case \"end\":\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, this);\n            }));\n\n            function _refreshTreeData(_x) {\n                return _ref.apply(this, arguments);\n            }\n\n            return _refreshTreeData;\n        }(),\n        _updateRuleChecked: function _updateRuleChecked(id, pid) {\n            var serviceItem = this.boundleMap[pid];\n            var ruleArr = serviceItem.children;\n            for (var i = 0, len = ruleArr.length; i < len; i++) {\n                var ruleItem = ruleArr[i];\n                var ruleId = ruleItem.id;\n                if (id != ruleId) {\n                    ruleItem.checked = false;\n                }\n            }\n        },\n        cancel: function cancel() {\n            this.$emit('update:closeTree', 0);\n        },\n        checkChange: function checkChange(checkedArr) {\n            this.checkedArr = checkedArr;\n        },\n        handleSave: function handleSave() {\n            var appId = __WEBPACK_IMPORTED_MODULE_3__store_DataCenter_js__[\"a\" /* default */].getAppId();\n            if (!appId) {\n                this.$Modal.error({ content: \"未选中项目!\" });\n            } else {\n                if (this.checkedArr) {\n                    var res = [];\n                    for (var i = 0, len = this.checkedArr.length; i < len; i++) {\n                        var item = this.checkedArr[i];\n                        if (\"rule\" == item.type) {\n                            res.push({\n                                appId: appId,\n                                apiPermissionId: item.pid,\n                                apiPermissionRuleId: item.id,\n                                roleId: this.currentRoleId\n                            });\n                        }\n                    }\n\n                    console.log(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(res));\n                }\n            }\n        },\n        _getOldCheckedMap: function () {\n            var _ref2 = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function _callee2() {\n                var data, dataArr, i, len, item;\n                return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function _callee2$(_context2) {\n                    while (1) {\n                        switch (_context2.prev = _context2.next) {\n                            case 0:\n                                this.relDS = __WEBPACK_IMPORTED_MODULE_3__store_DataCenter_js__[\"a\" /* default */].getDataSource(\"roleRelApiPermissionMgr\");\n                                _context2.next = 3;\n                                return __WEBPACK_IMPORTED_MODULE_3__store_DataCenter_js__[\"a\" /* default */].getPagedByDS(this.relDS, null, { roleId: this.currentRoleId }, true);\n\n                            case 3:\n                                data = _context2.sent;\n\n                                if (data.success) {\n                                    this.oldCheckedMap = {};\n                                    dataArr = data.result;\n\n                                    for (i = 0, len = dataArr.length; i < len; i++) {\n                                        item = dataArr[i];\n\n                                        this.oldCheckedMap[item.apiPermissionRuleId] = true;\n                                    }\n                                }\n\n                            case 5:\n                            case \"end\":\n                                return _context2.stop();\n                        }\n                    }\n                }, _callee2, this);\n            }));\n\n            function _getOldCheckedMap() {\n                return _ref2.apply(this, arguments);\n            }\n\n            return _getOldCheckedMap;\n        }(),\n        _parseToTreeData: function _parseToTreeData(serverData) {\n            var boundleMap = {};\n            var dataArr = serverData.result;\n            var treeData = [];\n            for (var i = 0, len = dataArr.length; i < len; i++) {\n                var item = dataArr[i];\n                var type = item.type;\n                var id = item.id;\n\n                var treeItem = {\n                    \"title\": item.bundle,\n                    \"id\": id,\n                    \"type\": type,\n                    \"disableCheckbox\": true\n                };\n\n                if (\"bundle\" == type) {\n                    if (0 == i) {\n                        treeItem.expand = true;\n                    }\n                    treeItem.children = [];\n                    treeData.push(treeItem);\n                    boundleMap[id] = treeData.length - 1;\n                } else if (\"service\" == type) {\n                    treeItem.pid = item.pid;\n                    treeItem.title = item.service + ' : ' + item.method;\n                    treeItem.children = [];\n                    for (var j = 0, ruleLen = item.rules.length; j < ruleLen; j++) {\n\n                        var ruleItem = item.rules[j];\n                        var ruleId = ruleItem.id;\n                        var rule = ruleItem.rule;\n                        var refCond = ruleItem.refCond;\n                        var title = \"<span class=\\\"rule-span\\\" data-id=\\\"\" + ruleId + \"\\\" data-pid=\\\"\" + id + \"\\\">\" + rule + \" : \" + refCond + \"</span>\";\n                        var ruleItem = {\n                            id: ruleId,\n                            pid: id,\n                            title: title,\n                            type: \"rule\"\n                        };\n                        if (this.oldCheckedMap[ruleId]) {\n                            ruleItem.checked = true;\n                        }\n                        treeItem.children.push(ruleItem);\n                    }\n                    var pidIndex = boundleMap[item.pid];\n                    treeData[pidIndex].children.push(treeItem);\n\n                    boundleMap[id] = treeItem;\n                }\n            }\n            this.boundleMap = boundleMap;\n            return treeData;\n        }\n    }\n});\n\n/***/ })\n\n},[127]);\n\n\n// WEBPACK FOOTER //\n// static/js/roleMgr.b9b2840fac195411f6a8.js","import 'whatwg-fetch'\n//create, update ,\n// schema = { entityName:'', mainAlias:'', child:['cars', 'ff'], ref:['family']}\n\nvar example = {\n  queryUrl: '',\n  createUrl: '',\n  updateUrl: '',\n  deleteUrl: '',\n  name: 'personEntity',\n  alias: 'p',\n  child: ['cars', 'fff'],\n  ref: ['family']\n}\n\nvar paramExample = {\n  _pageNo: 2,\n  _pageSize: 10,\n  name: ''\n}\n\n\nclass DataSource {\n\n  constructor(schema) {\n    this.schema = schema;\n  }\n\n  count(params) {\n    //TODO\n  }\n\n  query(url, params) {\n    //TODO\n    var q = this._getQuery(params);\n    q.set(\"_method\", \"get\");\n    return fetch(url, {method: 'POST', credentials: \"same-origin\", body: q});\n  }\n\n  _isRefKey(key) {\n    if (this.schema.child) {\n      for (var i = 0; i < this.schema.child.length; i++) {\n        if (this.schema.child[i] == key) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n\n  _getQuery(params) {\n    var q = new URLSearchParams();\n    for (var key in params) {\n      if (this._isRefKey(key)) {\n        var cp = key + \"_\";\n        for (var kk in params[key]) {\n          q.append(cp + kk, params[key][kk]);\n        }\n      } else {\n        var pvalue = params[key]\n        if (pvalue instanceof Array) {\n          for (var i = 0; i < pvalue.length; i++) {\n            q.append(key, pvalue[i]);\n          }\n        } else {\n          q.append(key, pvalue);\n        }\n      }\n    }\n    return q;\n  }\n\n  paged(params) {\n    var q = this._getQuery(params);\n    q.set(\"_method\", \"get\");\n    return fetch(this.schema.queryUrl || this.schema.url, {method: 'POST', credentials: \"same-origin\", body: q});\n  }\n\n\n  create(value, ext) {\n    var data = new FormData();\n    data.append(this.schema.name, JSON.stringify(value));\n    if (ext) {\n      for (var key in ext) {\n        data.append(key, ext[key]);\n      }\n    }\n    return fetch(this.schema.createUrl || this.schema.url, {method: 'POST', credentials: \"same-origin\", body: data});\n  }\n\n  update(value, params) {\n    // debugger;\n    var data = new FormData();\n    data.append(\"_method\", \"put\");\n    data.append(this.schema.name, JSON.stringify(value));\n    var pp = this._getQuery(params);\n    for (var key of pp.keys()) {\n      data.append(key, pp.get(key))\n    }\n    return fetch(this.schema.updateUrl || this.schema.url, {method: 'POST', credentials: \"same-origin\", body: data});\n  }\n\n  remove(params) {\n    var q = this._getQuery(params);\n    q.set(\"_method\", \"delete\")\n    return fetch(this.schema.deleteUrl || this.schema.url, {method: 'POST', credentials: \"same-origin\", body: q});\n  }\n  \n  \n}\n\nexport {DataSource}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/dataSource.js","/**\n * Created by bikui on 17/5/19.\n */\nconst pageConfigs = {\n    \"example\": {\n        \"fieldMeta\": [{\n            name: \"id\",\n            label: \"主键\",\n            \"xType\": \"q-input\",\n            \"showInTable\": false,\n            \"showInForm\": false\n        },{\n            name: \"name\",\n            label: \"名称\",\n            \"xType\": \"q-input\"\n        },{\n            name: \"startTime\",\n            label: \"生效时间\",\n            \"xType\": \"q-date\"\n        },{\n            name: \"appId\",\n            label: \"所属应用\",\n            \"xType\": \"q-select\",\n            \"bind\": \"\"\n        }]\n    },\n    \"roleMgr\": {\n        table: {\n            \"bind\": \"roleMgr\",\n            \"fieldMeta\": [{\n                name: \"id\",\n                label: \"主键\",\n                \"xType\": \"q-input\",\n                \"showInTable\": false,\n                \"showInForm\": false\n            },{\n                name: \"name\",\n                label: \"名称\",\n                \"xType\": \"q-input\"\n            },{\n                name: \"appId\",\n                label: \"所属应用\",\n                \"xType\": \"q-select\",\n                \"bind\": \"appMgr\",\n                \"showInForm\": false\n            }]\n        }\n\n    },\n    \"appMgr\": {\n        table: {\n            \"bind\": \"appMgr\",\n            \"fieldMeta\": [{\n                name: \"id\",\n                label: \"主键\",\n                \"xType\": \"q-input\",\n                \"showInTable\": false,\n                \"showInForm\": false\n            },{\n                name: \"name\",\n                label: \"名称\",\n                \"xType\": \"q-input\"\n            }]\n        }\n\n    },\n    \"appPropertiesMgr\": {\n        table: {\n            \"bind\": \"appPropertiesMgr\",\n            \"fieldMeta\": [{\n                name: \"id\",\n                label: \"主键\",\n                \"xType\": \"q-input\",\n                \"showInTable\": false,\n                \"showInForm\": false\n            },{\n                name: \"property\",\n                label: \"属性\",\n                \"xType\": \"q-input\"\n            },{\n                name: \"value\",\n                label: \"值\",\n                \"xType\": \"q-input\"\n            }]\n        }\n\n    },\n    \"memberMgr\": {\n        table: {\n            \"bind\": \"memberMgr\",\n            \"fieldMeta\": [{\n                name: \"id\",\n                label: \"主键\",\n                \"xType\": \"q-input\",\n                \"showInTable\": false,\n                \"showInForm\": false\n            },{\n                name: \"username\",\n                label: \"用户名\",\n                \"xType\": \"q-input\"\n            },{\n                name: \"password\",\n                label: \"密码\",\n                \"xType\": \"q-input\"\n            },{\n                name: \"nickname\",\n                label: \"昵称\",\n                \"xType\": \"q-input\"\n            }]\n        }\n    },\n    \"roleGroupMgr\": {\n        table: {\n            \"bind\": \"roleGroupMgr\",\n            \"fieldMeta\": [{\n                name: \"id\",\n                label: \"主键\",\n                \"xType\": \"q-input\",\n                \"showInTable\": false,\n                \"showInForm\": false\n            },{\n                name: \"name\",\n                label: \"名称\",\n                \"xType\": \"q-input\"\n            }]\n        }\n    }\n}\n\nconst dsConfigs = {\n    \"example\": {\n        queryUrl: '/rest/configServer/access/roleMgr',\n        createUrl: '',\n        updateUrl: '',\n        deleteUrl: '',\n        name: 'roleEntity',\n        alias: 'role'\n    },\n    \"roleMgr\": {\n        url: '/rest/configServer/access/roleMgr',\n        name: 'roleEntity',\n        alias: 'role',\n        child: ['rRelp']\n    },\n    \"pagePermissionMgr\": {\n        url: '/rest/configServer/access/pagePermissionMgr',\n        name: 'pagePermissionEntity',\n        alias: 'pagePermission'\n    },\n    \"roleRelPagePermissionMgr\": {\n        url: '/rest/configServer/access/roleRelPagePermissionMgr',\n        name: 'roleRelPagePermissionEntity',\n        alias: 'roleRelPagePermission'\n    },\n    \"apiPermissionMgr\": {\n        url: '/rest/configServer/access/apiPermissionMgr',\n        name: 'apiPermissionEntity',\n        alias: 'apiPermission'\n    },\n    \"apiPermissionMgr\": {\n        url: '/rest/configServer/access/apiPermissionMgr',\n        name: 'apiPermissionEntity',\n        alias: 'apiPermission'\n    },\n    \"roleRelApiPermissionMgr\": {\n        url: '/rest/configServer/access/roleRelApiPermissionMgr',\n        name: 'roleRelApiPermissionEntity',\n        alias: 'roleRelApiPermission'\n    },\n    \"appMgr\": {\n        url: '/rest/configServer/access/appMgr',\n        name: 'appEntity',\n        alias: 'app'\n    },\n    \"appPropertiesMgr\": {\n        url: '/rest/configServer/access/appPropertiesMgr',\n        name: 'appPropertiesEntity',\n        alias: 'ap'\n    },\n    \"memberMgr\": {\n        url: '/rest/configServer/access/memberMgr',\n        name: 'memberEntity',\n        alias: 'member',\n        child: ['mRelrg']\n    },\n    \"roleGroupMgr\": {\n        url: '/rest/configServer/access/roleGroupMgr',\n        name: 'roleGroupEntity',\n        alias: 'roleGroup',\n        child: ['rgRelr']\n    }\n}\n\nexport  {pageConfigs, dsConfigs};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/PageConfigs.js","<template>\n  <Layout activeMenu=\"roleMgr\">\n\n      <table-page v-if=\"showTable==0\" pageName=\"roleMgr\"\n                  v-on:itemSelectEvent=\"itemSelectEvent\">\n        <Button slot=\"toolbar\" type=\"info\" @click=\"openPageSet\">菜单配置</Button>\n        <Button slot=\"toolbar\" type=\"info\" @click=\"openApiSet\" style=\"margin-left: 5px\">API配置</Button>\n      </table-page>\n\n      <biz-transfer v-if=\"showTable==1\"\n                    :closeTransfer.sync=\"showTable\"\n                    :config=\"transferConfig\"></biz-transfer>\n    <biz-tree v-if=\"showTable==2\"\n                    :closeTree.sync=\"showTable\"\n                    :currentRoleId=\"currentRoleId\"></biz-tree>\n\n  </Layout>\n</template>\n\n<script type=\"text/ecmascript-6\">\n  import tablePage from \"../../components/TablePage.vue\"\n  import bizTransfer from \"../../components/BizTransfer.vue\"\n  import bizTree from \"../../components/BizTree.vue\"\n\n  export default {\n    components: {\n      tablePage,bizTransfer,bizTree\n    },\n    data: function() {\n      return {\n        showTable: 0,\n        selectedItems: [],\n        currentRoleId: null,\n        transferConfig: {}\n      }\n    },\n    methods: {\n      itemSelectEvent: function(selection) {\n        this.selectedItems = selection;\n      },\n      _judgeSelected: function(){\n        let res = true;\n        let len = this.selectedItems.length;\n        if(0==len) {\n          this.$Modal.warning({content: \"请选中一项！\"});\n          res = false;\n        }\n        return res;\n      },\n      openPageSet: function(param){\n        if(this._judgeSelected()){\n          this.transferConfig = {\n            \"left\": {\n              \"ds\": \"pagePermissionMgr\",\n              \"valueKey\": \"id\",\n              \"textKey\": \"path\"\n            },\n            \"right\": {\n              \"ds\": \"roleMgr\",\n              \"filterKey\": \"roleId\",\n              \"filterValue\": this.selectedItems[0].id,\n              \"valueKey\": \"pageId\"\n            }\n          };\n          this.showTable = 1;\n        };\n      },\n      openApiSet: function(){\n        if(this._judgeSelected()){\n//          this.transferConfig = {\n//            \"left\": {\n//              \"ds\": \"apiPermissionMgr\",\n//              \"valueKey\": \"id\",\n//              \"textKey\": function(item) {\n//                return item.bundle+\"/\"+item.service;\n//              }\n//            },\n//            \"right\": {\n//              \"ds\": \"roleRelApiPermissionMgr\",\n//              \"filterKey\": \"roleId\",\n//              \"filterValue\": this.selectedItems[0].id,\n//              \"valueKey\": \"apiPermissionId\"\n//            }\n//          };\n\n          this.showTable = 2;\n          this.currentRoleId = this.selectedItems[0].id;\n        }\n\n      }\n    }\n  }\n</script>\n\n<style>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// RoleMgr.vue?5db03aa6","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"layout\",\n    class: {\n      'layout-hide-text': _vm.spanLeft < 5\n    }\n  }, [_c('Row', {\n    attrs: {\n      \"type\": \"flex\"\n    }\n  }, [_c('i-col', {\n    staticClass: \"layout-menu-left\",\n    attrs: {\n      \"span\": _vm.spanLeft\n    }\n  }, [_c('Menu', {\n    attrs: {\n      \"active-name\": _vm.activeMenu,\n      \"theme\": \"dark\",\n      \"width\": \"auto\"\n    }\n  }, [_c('div', {\n    staticClass: \"layout-logo-left\"\n  }, [_c('Dropdown', {\n    staticStyle: {\n      \"margin\": \"5px 0px 0px 5px\"\n    },\n    attrs: {\n      \"placement\": \"bottom-start\",\n      \"trigger\": \"click\"\n    },\n    on: {\n      \"on-click\": _vm.changeApp\n    }\n  }, [_c('a', {\n    staticStyle: {\n      \"color\": \"rgb(158, 167, 180)\"\n    },\n    attrs: {\n      \"href\": \"javascript:void(0)\"\n    }\n  }, [_vm._v(\"\\n              应用: \" + _vm._s(_vm.currentApp.name) + \"\\n              \"), _c('Icon', {\n    attrs: {\n      \"type\": \"arrow-down-b\"\n    }\n  })], 1), _vm._v(\" \"), _c('Dropdown-menu', {\n    slot: \"list\"\n  }, [_vm._l((_vm.appArr), function(item) {\n    return _c('Dropdown-item', {\n      attrs: {\n        \"name\": item.id\n      }\n    }, [_vm._v(_vm._s(item.name))])\n  }), _vm._v(\" \"), _c('Dropdown-item', {\n    attrs: {\n      \"divided\": \"\"\n    }\n  }, [_vm._v(\"应用管理\")])], 2)], 1)], 1), _vm._v(\" \"), _c('Menu-item', {\n    attrs: {\n      \"name\": \"appMgr\"\n    }\n  }, [_c('Icon', {\n    attrs: {\n      \"type\": \"ios-keypad\",\n      \"size\": _vm.iconSize\n    }\n  }), _vm._v(\" \"), _c('a', {\n    staticClass: \"layout-text\",\n    attrs: {\n      \"href\": \"appMgr.html\"\n    }\n  }, [_vm._v(\"应用管理\")])], 1), _vm._v(\" \"), _c('Menu-item', {\n    attrs: {\n      \"name\": \"memberMgr\"\n    }\n  }, [_c('Icon', {\n    attrs: {\n      \"type\": \"ios-keypad\",\n      \"size\": _vm.iconSize\n    }\n  }), _vm._v(\" \"), _c('a', {\n    staticClass: \"layout-text\",\n    attrs: {\n      \"href\": 'memberMgr.html?appId=' + _vm.currentApp.id\n    }\n  }, [_vm._v(\"用户管理\")])], 1), _vm._v(\" \"), _c('Menu-item', {\n    attrs: {\n      \"name\": \"roleGroupMgr\"\n    }\n  }, [_c('Icon', {\n    attrs: {\n      \"type\": \"ios-keypad\",\n      \"size\": _vm.iconSize\n    }\n  }), _vm._v(\" \"), _c('a', {\n    staticClass: \"layout-text\",\n    attrs: {\n      \"href\": 'roleGroupMgr.html?appId=' + _vm.currentApp.id\n    }\n  }, [_vm._v(\"角色组管理\")])], 1), _vm._v(\" \"), _c('Menu-item', {\n    attrs: {\n      \"name\": \"roleMgr\"\n    }\n  }, [_c('Icon', {\n    attrs: {\n      \"type\": \"ios-analytics\",\n      \"size\": _vm.iconSize\n    }\n  }), _vm._v(\" \"), _c('a', {\n    staticClass: \"layout-text\",\n    attrs: {\n      \"href\": 'roleMgr.html?appId=' + _vm.currentApp.id\n    }\n  }, [_vm._v(\"角色管理\")])], 1), _vm._v(\" \"), _c('Menu-item', {\n    attrs: {\n      \"name\": \"appPropertiesMgr\"\n    }\n  }, [_c('Icon', {\n    attrs: {\n      \"type\": \"ios-keypad\",\n      \"size\": _vm.iconSize\n    }\n  }), _vm._v(\" \"), _c('a', {\n    staticClass: \"layout-text\",\n    attrs: {\n      \"href\": 'appPropertiesMgr.html?appId=' + _vm.currentApp.id\n    }\n  }, [_vm._v(\"应用参配\")])], 1), _vm._v(\" \"), _c('Menu-item', {\n    attrs: {\n      \"name\": \"pageMgr\"\n    }\n  }, [_c('Icon', {\n    attrs: {\n      \"type\": \"ios-analytics\",\n      \"size\": _vm.iconSize\n    }\n  }), _vm._v(\" \"), _c('a', {\n    staticClass: \"layout-text\",\n    attrs: {\n      \"href\": 'pageMgr.html?appId=' + _vm.currentApp.id\n    }\n  }, [_vm._v(\"页面管理\")])], 1), _vm._v(\" \"), _c('Menu-item', {\n    attrs: {\n      \"name\": \"apiMgr\"\n    }\n  }, [_c('Icon', {\n    attrs: {\n      \"type\": \"ios-analytics\",\n      \"size\": _vm.iconSize\n    }\n  }), _vm._v(\" \"), _c('a', {\n    staticClass: \"layout-text\",\n    attrs: {\n      \"href\": 'apiMgr.html?appId=' + _vm.currentApp.id\n    }\n  }, [_vm._v(\"API管理\")])], 1)], 1)], 1), _vm._v(\" \"), _c('i-col', {\n    attrs: {\n      \"span\": _vm.spanRight\n    }\n  }, [_c('div', {\n    staticClass: \"layout-header\"\n  }, [_c('i-button', {\n    attrs: {\n      \"type\": \"text\"\n    },\n    on: {\n      \"click\": _vm.toggleClick\n    }\n  }, [_c('Icon', {\n    attrs: {\n      \"type\": \"navicon\",\n      \"size\": \"32\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"layout-breadcrumb\"\n  }, [_c('Breadcrumb', [_c('Breadcrumb-item', {\n    attrs: {\n      \"href\": \"#\"\n    }\n  }, [_vm._v(\"首页\")]), _vm._v(\" \"), _c('Breadcrumb-item', {\n    attrs: {\n      \"href\": \"#\"\n    }\n  }, [_vm._v(\"应用中心\")]), _vm._v(\" \"), _c('Breadcrumb-item', [_vm._v(\"某应用\")])], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"layout-content\"\n  }, [_c('div', {\n    staticClass: \"layout-content-main\"\n  }, [_vm._t(\"default\")], 2)])])], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-1fe8eacb\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Layout.vue\n// module id = 12\n// module chunks = 2 3 4 5 6 7 8 9 10","import {Vue} from '../common.js';\nimport RoleMgr from './RoleMgr.vue'\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#roleMgr',\n  components: { RoleMgr }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/module/roleMgr/roleMgr.js","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-ce9eb700\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./BizTree.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./BizTree.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ce9eb700\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./BizTree.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/BizTree.vue\n// module id = 182\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('Layout', {\n    attrs: {\n      \"activeMenu\": \"roleMgr\"\n    }\n  }, [(_vm.showTable == 0) ? _c('table-page', {\n    attrs: {\n      \"pageName\": \"roleMgr\"\n    },\n    on: {\n      \"itemSelectEvent\": _vm.itemSelectEvent\n    }\n  }, [_c('Button', {\n    attrs: {\n      \"type\": \"info\"\n    },\n    on: {\n      \"click\": _vm.openPageSet\n    },\n    slot: \"toolbar\"\n  }, [_vm._v(\"菜单配置\")]), _vm._v(\" \"), _c('Button', {\n    staticStyle: {\n      \"margin-left\": \"5px\"\n    },\n    attrs: {\n      \"type\": \"info\"\n    },\n    on: {\n      \"click\": _vm.openApiSet\n    },\n    slot: \"toolbar\"\n  }, [_vm._v(\"API配置\")])], 1) : _vm._e(), _vm._v(\" \"), (_vm.showTable == 1) ? _c('biz-transfer', {\n    attrs: {\n      \"closeTransfer\": _vm.showTable,\n      \"config\": _vm.transferConfig\n    },\n    on: {\n      \"update:closeTransfer\": function($event) {\n        _vm.showTable = $event\n      }\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.showTable == 2) ? _c('biz-tree', {\n    attrs: {\n      \"closeTree\": _vm.showTable,\n      \"currentRoleId\": _vm.currentRoleId\n    },\n    on: {\n      \"update:closeTree\": function($event) {\n        _vm.showTable = $event\n      }\n    }\n  }) : _vm._e()], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-c6e8ca0c\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/module/roleMgr/RoleMgr.vue\n// module id = 198\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"biz-transfer\"\n  }, [_vm._m(0), _vm._v(\" \"), _c('Tree', {\n    attrs: {\n      \"data\": _vm.baseData,\n      \"show-checkbox\": \"\"\n    },\n    on: {\n      \"on-check-change\": _vm.checkChange\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"margin-top\": \"15px\"\n    }\n  }, [_c('i-button', {\n    attrs: {\n      \"type\": \"text\"\n    },\n    on: {\n      \"click\": _vm.cancel\n    }\n  }, [_vm._v(\"取消\")]), _vm._v(\" \"), _c('i-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.handleSave\n    }\n  }, [_vm._v(\"保存\")])], 1)], 1)\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"ivu-card-head\",\n    staticStyle: {\n      \"margin-bottom\": \"15px\"\n    }\n  }, [_c('p', [_vm._v(\"权限配置\")])])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-ce9eb700\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/BizTree.vue\n// module id = 199\n// module chunks = 2","import {pageConfigs, dsConfigs} from \"./PageConfigs.js\";\n\nimport {DataSource} from \"../utils/dataSource.js\";\n\nvar apis = {};\nfunction sendRequest(path, data, noNeedRoot) {\n  return new Promise(function(resolve, reject) {\n    if(true !== noNeedRoot) {\n      path = serviceRootPath+path;\n    }\n    $.post(path, data, function(res){\n      resolve(res);\n    }, 'json');\n  })\n\n}\n//校验手机号是否被注册过\napis.phoneRegisted = async function (phone) {\n  let path = \"register?_cnd=exists&_method=GET&_pageSize=20&_pageNo=1\";\n  let data = {\n    \"$phone\": phone\n  };\n  return await sendRequest(path, data);\n}\n//新用户注册\napis.insertUser = async function (paramObj) {\n  let path = \"register?_method=POST\";\n  let data = {\n    \"$user\": JSON.stringify(paramObj)\n  };\n  return await sendRequest(path, data);\n}\n\n\n\napis.getPageConfig = function(pageName) {\n  return pageConfigs[pageName];\n}\napis.getDSConfig = function(dsName) {\n  return dsConfigs[dsName];\n}\n\napis.getDataSource = function(dsName) {\n  return new DataSource(this.getDSConfig(dsName));\n}\napis.getPagedByDS = async function(ds, callback, param, withoutApp) {\n  if(!param) {\n    param = {};\n  }\n  if(!withoutApp && this.getAppId) {\n    param.appId = this.getAppId();\n  }\n  let response = await ds.paged(param);\n  let data = await response.json();\n  if(data.success) {\n    callback && callback(data);\n  }\n  return data;\n}\napis.getAppId = function() {\n  return _getQueryString(\"appId\");\n}\nfunction _getQueryString(name) {\n  var reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\", \"i\");\n  var r = window.location.search.substr(1).match(reg); //获取url中\"?\"符后的字符串并正则匹配\n  var context = \"\";\n  if (r != null)\n    context = r[2];\n  reg = null;\n  r = null;\n  return context == null || context == \"\" || context == \"undefined\" ? \"\" : context;\n}\nexport default apis\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/DataCenter.js","<template>\n  <Modal\n          v-model=\"open\"\n          title=\"编辑\"\n          :mask-closable=\"false\"\n          @on-cancel=\"cancel\">\n\n    <Form :model=\"formDatas\" :label-width=\"80\">\n      <Form-item v-for=\"item in formMeta\" :label=\"item.label\" :key=\"item.name\">\n        <Input v-if=\"'q-input'==item.xType\" v-model=\"formDatas[item.name]\" placeholder=\"请输入\"></Input>\n        <Date-picker v-if=\"'q-date'==item.xType\" type=\"datetime\" format=\"yyyy-MM-dd HH:mm\" placeholder=\"选择日期\" v-model=\"formDatas[item.name]\"></Date-picker>\n        <Select v-if=\"'q-select'==item.xType\" v-model=\"formDatas[item.name]\" placeholder=\"请选择\">\n          <Option v-for=\"option in selectDatas[item.name]\"\n                  :value=\"option[item.valueKey || 'id']\"\n                  :key=\"item.valueKey || 'id'\">{{option[item.textKey || 'name']}}</Option>\n        </Select>\n      </Form-item>\n    </Form>\n\n    <div slot=\"footer\">\n      <i-button type=\"text\" @click=\"cancel\">取消</i-button>\n      <i-button type=\"primary\" @click=\"handleSave\">保存</i-button>\n    </div>\n\n  </Modal>\n</template>\n\n<script>\n  import {DataSource} from \"../utils/dataSource.js\";\n  import DataCenter from \"../store/DataCenter.js\";\n\n\n  export default {\n  props: ['showDialog', 'formData', 'formMeta'],\n  data: function() {\n    // template的编译似乎没有等data完成， data async未结束，模板编译完成\n    let selectDatas = {};\n    for(let i= 0,len=this.formMeta.length; i<len; i++) {\n      let item = this.formMeta[i];\n      if ('q-select' == item.xType) {\n        selectDatas[item.name] = [];\n      }\n    }\n\n    return {\n      loading: true,\n      selectDatas: selectDatas\n    };\n  },\n  computed: {\n    open:function() {return this.showDialog;},\n    formDatas: function() {\n      return this.formData;\n    }\n  },\n  mounted: async function() {\n    //获取select 中的选项数据\n    let selectDatas = {};\n    for(let i= 0,len=this.formMeta.length; i<len; i++) {\n      let item = this.formMeta[i];\n      if('q-select'==item.xType) {\n        let dsBind = item.bind;\n        //创建datasource 获取数据\n        this.ds = new DataSource(DataCenter.getDSConfig(dsBind));\n\n        let response = await this.ds.paged();\n        let data = await response.json();\n        if(data.success) {\n          selectDatas[item.name] = data.result;\n        }\n      }\n    }\n    this.selectDatas = selectDatas;\n  },\n  methods: {\n    handleSave: function() {\n      this.$emit('handleItemChange', this.formDatas, this);\n    },\n    cancel: function() {\n      //props变量不允许直接双向绑定，使用计算属性，如果不改变父组件的showDialog值，则不会再次触发对话框 打开\n      this.$emit('update:showDialog', false)\n    }\n  }\n}\n</script>\n\n\n\n\n// WEBPACK FOOTER //\n// FormDialog.vue?5ff44f30","<template>\n  <div>\n    <div style=\"margin: 15px\">\n      <Button type=\"info\" @click=\"addItem\">新增</Button>\n      <Button type=\"info\" @click=\"updateItem\">修改</Button>\n      <Button type=\"warning\" @click=\"deleteItems\">删除</Button>\n      <slot name=\"toolbar\"></slot>\n    </div>\n    <Table border :columns=\"tableMeta\" :data=\"tableData\" @on-selection-change=\"itemSelected\"></Table>\n    <form-dialog v-if=\"openFlag\"\n                 :formData=\"formData\"\n                 :formMeta=\"formMeta\"\n                 :showDialog.sync=\"showDialog\"\n                 v-on:handleItemChange=\"handleItemChange\"></form-dialog>\n  </div>\n</template>\n\n<script type=\"text/ecmascript-6\">\n  import DataCenter from \"../store/DataCenter.js\";\n  import formDialog from \"./FormDialog.vue\";\n  import {DataSource} from \"../utils/dataSource.js\";\n\n  export default {\n    props: ['pageName'],\n    components: {formDialog},\n    data: function () {\n      return {\n        tableMeta: [],\n        tableData: [],\n        selectedItems: [],\n        openFlag: false,\n        showDialog: false,\n        formMeta: [],\n        formData: null\n      }\n    },\n    mounted: function() {\n      //1、获取页面配置信息\n      let config = DataCenter.getPageConfig(this.pageName).table;\n      let meta = this._preHandleMeta(config.fieldMeta);\n      this.tableMeta = meta.table;\n      this.formMeta = meta.form;\n\n      //2、创建datasource\n      this.ds = DataCenter.getDataSource(config.bind);\n      this._refreshTable();\n    },\n    methods: {\n      _preHandleMeta: function(fieldMeta) {\n        var res = {\n          table:[{\n            type: 'selection',\n            width: 60,\n            align: 'center'\n          }],\n          form: []\n        };\n        if(fieldMeta) {\n          for(let i= 0,len=fieldMeta.length; i<len; i++) {\n            let item = fieldMeta[i];\n            if(false != item.showInTable) {\n              var column = {};\n              column.title = item.label;\n              column.key = item.name;\n              if(\"q-select\" == item.xType) {\n                column.key = item.name+\"$display$\";\n              }\n\n              res.table.push(column);\n            }\n            if(false != item.showInForm) {\n              res.form.push(item);\n              //给表单的数据初始值，用于新增\n              if(!this.initFormData) {\n                this.initFormData = {};\n              }\n              this.initFormData[item.name] = \"\";\n            }\n          }\n        }\n        return res;\n      },\n      _refreshTable: async function() {\n        let data = await DataCenter.getPagedByDS(this.ds);\n        if(data.success) {\n          this.tableData = data.result;\n        }\n      },\n      addItem: function() {\n        this.operType = \"add\";\n        this.formData = Object.assign({}, this.initFormData);//传入object，同样会被子组件影响\n        this.openFlag = true;\n        this.showDialog = true;\n      },\n      updateItem: function() {\n        if(0==this.selectedItems.length) {\n          this.$Modal.warning({content: \"请至少选中一项！\"});\n        }else {\n          this.operType = \"update\";\n          this.formData = this.selectedItems[0];\n          this.openFlag = true;\n          this.showDialog = true;\n        }\n      },\n      deleteItems: function() {\n        let len = this.selectedItems.length;\n        if(0==len) {\n          this.$Modal.warning({content: \"请至少选中一项！\"});\n        }else {\n          let that = this;\n          this.$Modal.confirm({\n            content: \"确定删除所选项吗？\",\n            onOk: function() {\n              that.operType = \"delete\";\n              let param = {ids: []};\n              for(let i= 0; i<len; i++) {\n                param.ids.push((that.selectedItems[i]).id);\n              }\n               that.handleItemChange(param);\n            }\n          })\n        }\n      },\n      itemSelected: function(selection, row) {\n        this.selectedItems = selection;\n        this.$emit(\"itemSelectEvent\", selection);\n      },\n      handleItemChange: async function(param, dialogVM) {\n        let res = false;\n        let response;\n\n        //自动增加appId\n        let appId = DataCenter.getAppId();\n        if(!appId && this.pageName!=\"appMgr\") {\n          this.$Modal.error({content: \"未选中项目!\"});\n        }else {\n          if(\"add\" == this.operType) {\n            if(this.pageName!=\"appMgr\") {\n              param.appId = appId;\n            }\n\n            response = await this.ds.create(param);\n          }else if(\"update\" == this.operType) {\n            response = await this.ds.update(param, {id: param.id});\n          }else if(\"delete\" == this.operType) {\n\n            response = await this.ds.remove(param);\n          }\n          let data = await response.json();\n          res = data.success;\n          if(res) {\n            this.$Modal.success({content: \"操作成功!\"});\n            this.showDialog = false;\n            this._refreshTable();\n          }else {\n            this.$Modal.error({content: \"操作失败!\"});\n          }\n        }\n      }\n    }\n\n\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// TablePage.vue?fa9a6f0a","var Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./FormDialog.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a2917566\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./FormDialog.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/FormDialog.vue\n// module id = 23\n// module chunks = 2 3 4 5 6 7","var Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./TablePage.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-27de1cec\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./TablePage.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/TablePage.vue\n// module id = 24\n// module chunks = 2 3 4 5 6 7","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('div', {\n    staticStyle: {\n      \"margin\": \"15px\"\n    }\n  }, [_c('Button', {\n    attrs: {\n      \"type\": \"info\"\n    },\n    on: {\n      \"click\": _vm.addItem\n    }\n  }, [_vm._v(\"新增\")]), _vm._v(\" \"), _c('Button', {\n    attrs: {\n      \"type\": \"info\"\n    },\n    on: {\n      \"click\": _vm.updateItem\n    }\n  }, [_vm._v(\"修改\")]), _vm._v(\" \"), _c('Button', {\n    attrs: {\n      \"type\": \"warning\"\n    },\n    on: {\n      \"click\": _vm.deleteItems\n    }\n  }, [_vm._v(\"删除\")]), _vm._v(\" \"), _vm._t(\"toolbar\")], 2), _vm._v(\" \"), _c('Table', {\n    attrs: {\n      \"border\": \"\",\n      \"columns\": _vm.tableMeta,\n      \"data\": _vm.tableData\n    },\n    on: {\n      \"on-selection-change\": _vm.itemSelected\n    }\n  }), _vm._v(\" \"), (_vm.openFlag) ? _c('form-dialog', {\n    attrs: {\n      \"formData\": _vm.formData,\n      \"formMeta\": _vm.formMeta,\n      \"showDialog\": _vm.showDialog\n    },\n    on: {\n      \"update:showDialog\": function($event) {\n        _vm.showDialog = $event\n      },\n      \"handleItemChange\": _vm.handleItemChange\n    }\n  }) : _vm._e()], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-27de1cec\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/TablePage.vue\n// module id = 25\n// module chunks = 2 3 4 5 6 7","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('Modal', {\n    attrs: {\n      \"title\": \"编辑\",\n      \"mask-closable\": false\n    },\n    on: {\n      \"on-cancel\": _vm.cancel\n    },\n    model: {\n      value: (_vm.open),\n      callback: function($$v) {\n        _vm.open = $$v\n      },\n      expression: \"open\"\n    }\n  }, [_c('Form', {\n    attrs: {\n      \"model\": _vm.formDatas,\n      \"label-width\": 80\n    }\n  }, _vm._l((_vm.formMeta), function(item) {\n    return _c('Form-item', {\n      key: item.name,\n      attrs: {\n        \"label\": item.label\n      }\n    }, [('q-input' == item.xType) ? _c('Input', {\n      attrs: {\n        \"placeholder\": \"请输入\"\n      },\n      model: {\n        value: (_vm.formDatas[item.name]),\n        callback: function($$v) {\n          var $$exp = _vm.formDatas,\n            $$idx = item.name;\n          if (!Array.isArray($$exp)) {\n            _vm.formDatas[item.name] = $$v\n          } else {\n            $$exp.splice($$idx, 1, $$v)\n          }\n        },\n        expression: \"formDatas[item.name]\"\n      }\n    }) : _vm._e(), _vm._v(\" \"), ('q-date' == item.xType) ? _c('Date-picker', {\n      attrs: {\n        \"type\": \"datetime\",\n        \"format\": \"yyyy-MM-dd HH:mm\",\n        \"placeholder\": \"选择日期\"\n      },\n      model: {\n        value: (_vm.formDatas[item.name]),\n        callback: function($$v) {\n          var $$exp = _vm.formDatas,\n            $$idx = item.name;\n          if (!Array.isArray($$exp)) {\n            _vm.formDatas[item.name] = $$v\n          } else {\n            $$exp.splice($$idx, 1, $$v)\n          }\n        },\n        expression: \"formDatas[item.name]\"\n      }\n    }) : _vm._e(), _vm._v(\" \"), ('q-select' == item.xType) ? _c('Select', {\n      attrs: {\n        \"placeholder\": \"请选择\"\n      },\n      model: {\n        value: (_vm.formDatas[item.name]),\n        callback: function($$v) {\n          var $$exp = _vm.formDatas,\n            $$idx = item.name;\n          if (!Array.isArray($$exp)) {\n            _vm.formDatas[item.name] = $$v\n          } else {\n            $$exp.splice($$idx, 1, $$v)\n          }\n        },\n        expression: \"formDatas[item.name]\"\n      }\n    }, _vm._l((_vm.selectDatas[item.name]), function(option) {\n      return _c('Option', {\n        key: item.valueKey || 'id',\n        attrs: {\n          \"value\": option[item.valueKey || 'id']\n        }\n      }, [_vm._v(_vm._s(option[item.textKey || 'name']))])\n    })) : _vm._e()], 1)\n  })), _vm._v(\" \"), _c('div', {\n    slot: \"footer\"\n  }, [_c('i-button', {\n    attrs: {\n      \"type\": \"text\"\n    },\n    on: {\n      \"click\": _vm.cancel\n    }\n  }, [_vm._v(\"取消\")]), _vm._v(\" \"), _c('i-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.handleSave\n    }\n  }, [_vm._v(\"保存\")])], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-a2917566\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/FormDialog.vue\n// module id = 26\n// module chunks = 2 3 4 5 6 7","<template>\n  <div class=\"biz-transfer\">\n    <div class=\"ivu-card-head\" style=\"margin-bottom: 15px\">\n      <p>权限配置</p>\n    </div>\n    <Transfer\n            :data=\"data\"\n            :target-keys=\"targetKeys\"\n            @on-change=\"handleChange\"></Transfer>\n\n    <div style=\"margin-top: 15px\">\n      <i-button type=\"text\" @click=\"cancel\">取消</i-button>\n      <i-button type=\"primary\" @click=\"handleSave\">保存</i-button>\n    </div>\n  </div>\n</template>\n\n<script type=\"text/ecmascript-6\">\n  import {DataSource} from \"../utils/dataSource.js\";\n  import DataCenter from \"../store/DataCenter.js\";\n\n\n  export default {\n    props: ['closeTransfer', \"config\"],\n    data: function() {\n      return {\n        data: [],\n        targetKeys: []\n      }\n    },\n    mounted: function() {\n        this._refreshListData(this.config);\n    },\n    methods: {\n      _refreshListData: async function(config){\n        let leftConfig = config.left;\n        this.leftDS = DataCenter.getDataSource(leftConfig.ds);\n        let data = await DataCenter.getPagedByDS(this.leftDS);\n        if(data.success) {\n          //取出Id\n          let dataArr = [];\n          for(let i= 0,len=data.result.length; i<len; i++) {\n            let item = data.result[i];\n            let textKey = leftConfig.textKey;\n            let text;\n            if('string'==typeof textKey) {\n              text = item[textKey];\n            }else {\n              text = textKey(item); //渲染函数\n            }\n            dataArr.push({\n              \"key\": item[leftConfig.valueKey],\n              \"label\": text\n            });\n          }\n          this.data = dataArr;\n        }\n        let rightConfig = config.right;\n        this.rightDS = DataCenter.getDataSource(rightConfig.ds);\n        let data2 = await DataCenter.getPagedByDS(this.rightDS, null, {id: rightConfig.filterValue});\n\n        if(data2.success) {\n          //取出Id\n          let targetArr = [];\n          let dataArr2 = (data2.result[0])[this.rightDS.schema.child[0]];\n          if(dataArr2) {\n            for(let j= 0,len=dataArr2.length; j<len; j++) {\n              let item2 = dataArr2[j];\n              targetArr.push(item2[rightConfig.valueKey]);\n            }\n            this.targetKeys = targetArr;\n          }\n\n        }\n      },\n      handleChange: function(newTargetKeys) {\n        this.targetKeys = newTargetKeys;\n      },\n      cancel: function(){\n        this.$emit('update:closeTransfer', 0);\n      },\n      handleSave: async function(){\n        let appId = DataCenter.getAppId();\n        if(!appId) {\n          this.$Modal.error({content: \"未选中项目!\"});\n        }else {\n          let res = false;\n          if(this.targetKeys) {\n            let relArr = [];\n            for (var i = 0, len = this.targetKeys.length; i < len; i++) {\n              let item = this.targetKeys[i];\n              relArr.push({\n                appId: appId,\n                [this.config.right.valueKey]: item\n              });\n            }\n            let response = await this.rightDS.update({id: this.config.right.filterValue, [this.rightDS.schema.child[0]]: relArr}, {id: this.config.right.filterValue});\n            let data = await response.json();\n            res = data.success;\n          }else {\n            res = true;\n          }\n          if(res) {\n            this.$Modal.success({content: \"保存成功!\"});\n            this.cancel();\n          }else {\n            this.$Modal.error({content: \"保存失败!\"});\n          }\n\n        }\n\n      }\n    }\n  }\n</script>\n\n<style>\n  .biz-transfer .ivu-transfer .ivu-transfer-list{\n    height: 400px;\n  }\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// BizTransfer.vue?0500512a","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-6a4b7566\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./BizTransfer.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./BizTransfer.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6a4b7566\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./BizTransfer.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/BizTransfer.vue\n// module id = 39\n// module chunks = 2 3 4","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"biz-transfer\"\n  }, [_vm._m(0), _vm._v(\" \"), _c('Transfer', {\n    attrs: {\n      \"data\": _vm.data,\n      \"target-keys\": _vm.targetKeys\n    },\n    on: {\n      \"on-change\": _vm.handleChange\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"margin-top\": \"15px\"\n    }\n  }, [_c('i-button', {\n    attrs: {\n      \"type\": \"text\"\n    },\n    on: {\n      \"click\": _vm.cancel\n    }\n  }, [_vm._v(\"取消\")]), _vm._v(\" \"), _c('i-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.handleSave\n    }\n  }, [_vm._v(\"保存\")])], 1)], 1)\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"ivu-card-head\",\n    staticStyle: {\n      \"margin-bottom\": \"15px\"\n    }\n  }, [_c('p', [_vm._v(\"权限配置\")])])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-6a4b7566\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/BizTransfer.vue\n// module id = 40\n// module chunks = 2 3 4","/**\n * Created by bikui on 17/5/18.\n */\n\n\nimport Vue from 'vue'\nimport iView from 'iview';\nimport '../../node_modules/iview/dist/styles/iview.css';\nimport Layout from '../components/Layout.vue';\nVue.use(iView);\nVue.component(\"Layout\", Layout);\n\nexport {Vue};\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/module/common.js","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-1fe8eacb\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Layout.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Layout.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1fe8eacb\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Layout.vue\"),\n  /* scopeId */\n  \"data-v-1fe8eacb\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Layout.vue\n// module id = 8\n// module chunks = 2 3 4 5 6 7 8 9 10","<style scoped>\n  .layout{\n    border: 1px solid #d7dde4;\n    background: #f5f7f9;\n    /*position: relative;*/\n    border-radius: 4px;\n    /*overflow: hidden;*/\n    height: 1000px;\n  }\n  .layout-breadcrumb{\n    padding: 10px 15px 0;\n  }\n  .layout-content{\n    min-height: 200px;\n    margin: 15px;\n    overflow: hidden;\n    background: #fff;\n    border-radius: 4px;\n  }\n  .layout-content-main{\n    padding: 10px;\n  }\n  .layout-copy{\n    text-align: center;\n    padding: 10px 0 20px;\n    color: #9ea7b4;\n  }\n  .layout-menu-left{\n    background: #464c5b;\n  }\n  .layout-header{\n    height: 60px;\n    background: #fff;\n    box-shadow: 0 1px 1px rgba(0,0,0,.1);\n  }\n  .layout-logo-left{\n    width: 90%;\n    height: 30px;\n    background: #5b6270;\n    border-radius: 3px;\n    margin: 15px auto;\n  }\n  .layout-ceiling-main a{\n    color: #9ba7b5;\n  }\n  .layout-hide-text .layout-text{\n    display: none;\n  }\n  .ivu-col{\n    transition: width .2s ease-in-out;\n  }\n\n  .ivu-icon+a{\n    color: rgb(158, 167, 180);\n  }\n  .ivu-row-flex {\n    height: 100%;\n  }\n</style>\n<template>\n  <div class=\"layout\" :class=\"{'layout-hide-text': spanLeft < 5}\">\n    <Row type=\"flex\">\n      <i-col :span=\"spanLeft\" class=\"layout-menu-left\">\n        <Menu :active-name=\"activeMenu\" theme=\"dark\" width=\"auto\">\n          <div class=\"layout-logo-left\">\n            <Dropdown placement=\"bottom-start\" trigger=\"click\" style=\"margin: 5px 0px 0px 5px;\"\n                      @on-click=\"changeApp\">\n              <a href=\"javascript:void(0)\" style=\"color: rgb(158, 167, 180);\">\n                应用: {{currentApp.name}}\n                <Icon type=\"arrow-down-b\"></Icon>\n              </a>\n              <Dropdown-menu slot=\"list\">\n                <Dropdown-item v-for=\"item of appArr\" :name=\"item.id\">{{item.name}}</Dropdown-item>\n                <Dropdown-item divided>应用管理</Dropdown-item>\n              </Dropdown-menu>\n            </Dropdown>\n          </div>\n          <Menu-item name=\"appMgr\">\n            <Icon type=\"ios-keypad\" :size=\"iconSize\"></Icon>\n            <a class=\"layout-text\" href=\"appMgr.html\">应用管理</a>\n          </Menu-item>\n          <Menu-item name=\"memberMgr\">\n            <Icon type=\"ios-keypad\" :size=\"iconSize\"></Icon>\n            <a class=\"layout-text\" :href=\"'memberMgr.html?appId='+currentApp.id\">用户管理</a>\n          </Menu-item>\n          <Menu-item name=\"roleGroupMgr\">\n            <Icon type=\"ios-keypad\" :size=\"iconSize\"></Icon>\n            <a class=\"layout-text\" :href=\"'roleGroupMgr.html?appId='+currentApp.id\">角色组管理</a>\n          </Menu-item>\n          <Menu-item name=\"roleMgr\">\n            <Icon type=\"ios-analytics\" :size=\"iconSize\"></Icon>\n            <a class=\"layout-text\" :href=\"'roleMgr.html?appId='+currentApp.id\">角色管理</a>\n          </Menu-item>\n          <Menu-item name=\"appPropertiesMgr\">\n            <Icon type=\"ios-keypad\" :size=\"iconSize\"></Icon>\n            <a class=\"layout-text\" :href=\"'appPropertiesMgr.html?appId='+currentApp.id\">应用参配</a>\n          </Menu-item>\n          <Menu-item name=\"pageMgr\">\n            <Icon type=\"ios-analytics\" :size=\"iconSize\"></Icon>\n            <a class=\"layout-text\" :href=\"'pageMgr.html?appId='+currentApp.id\">页面管理</a>\n          </Menu-item>\n          <Menu-item name=\"apiMgr\">\n            <Icon type=\"ios-analytics\" :size=\"iconSize\"></Icon>\n            <a class=\"layout-text\" :href=\"'apiMgr.html?appId='+currentApp.id\">API管理</a>\n          </Menu-item>\n\n        </Menu>\n      </i-col>\n      <i-col :span=\"spanRight\">\n        <div class=\"layout-header\">\n          <i-button type=\"text\" @click=\"toggleClick\">\n            <Icon type=\"navicon\" size=\"32\"></Icon>\n          </i-button>\n        </div>\n        <div class=\"layout-breadcrumb\">\n          <Breadcrumb>\n            <Breadcrumb-item href=\"#\">首页</Breadcrumb-item>\n            <Breadcrumb-item href=\"#\">应用中心</Breadcrumb-item>\n            <Breadcrumb-item>某应用</Breadcrumb-item>\n          </Breadcrumb>\n        </div>\n        <div class=\"layout-content\">\n          <div class=\"layout-content-main\">\n            <slot></slot>\n          </div>\n        </div>\n\n      </i-col>\n    </Row>\n  </div>\n</template>\n\n<script type=\"text/ecmascript-6\">\n  import DataCenter from \"../store/DataCenter.js\";\n\n  export default {\n    props: ['activeMenu'],\n    data () {\n    return {\n      currentApp: {name: \"暂无应用\"},\n      appArr: [],\n      spanLeft: 5,\n      spanRight: 19,\n      appList:[]\n    }\n  },\n  computed: {\n    iconSize () {\n      return this.spanLeft === 5 ? 14 : 24;\n    }\n  },\n  mounted: function(){\n    this.ds = DataCenter.getDataSource(\"appMgr\");\n    let that = this;\n    let urlAppId = DataCenter.getAppId();\n    DataCenter.getPagedByDS(this.ds, function (data) {\n      let appArr = [];\n      let index = 0;\n      for(let i= 0,len=data.result.length; i<len; i++) {\n        let item = data.result[i];\n        appArr.push({\n          id: item.id,\n          name: item.name\n        });\n        if(urlAppId == item.id) {\n          index = i;\n        }\n      };\n      that.appArr = appArr;\n      if(appArr.length>0) {\n        that.currentApp = appArr[index];\n      }\n    }, null, true);\n  },\n  methods: {\n    changeApp: function(id) {\n      var name;\n      this.appArr.every(function (item, index, arry) {\n        if(id == item.id) {\n          name = item.name;\n          return false;\n        }\n        return true;\n      });\n\n      this.currentApp = {\n        id: id,\n        name: name\n      };\n      location.href = location.pathname+\"?appId=\"+id;\n    },\n    toggleClick () {\n      if (this.spanLeft === 5) {\n        this.spanLeft = 2;\n        this.spanRight = 22;\n      } else {\n        this.spanLeft = 5;\n        this.spanRight = 19;\n      }\n    }\n  }\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// Layout.vue?c93fee48","\n/* styles */\nrequire(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-c6e8ca0c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./RoleMgr.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./RoleMgr.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c6e8ca0c\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./RoleMgr.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/module/roleMgr/RoleMgr.vue\n// module id = 96\n// module chunks = 2","<template>\n    <div class=\"biz-transfer\">\n        <div class=\"ivu-card-head\" style=\"margin-bottom: 15px\">\n            <p>权限配置</p>\n        </div>\n        <Tree :data=\"baseData\" show-checkbox\n              @on-check-change=\"checkChange\"></Tree>\n\n        <div style=\"margin-top: 15px\">\n            <i-button type=\"text\" @click=\"cancel\">取消</i-button>\n            <i-button type=\"primary\" @click=\"handleSave\">保存</i-button>\n        </div>\n    </div>\n</template>\n\n<script type=\"text/ecmascript-6\">\n\n    import DataCenter from \"../store/DataCenter.js\";\n\n\n    export default {\n        props: ['closeTree', \"currentRoleId\"],\n\n        data: function () {\n            return {\n                baseData: []\n            }\n        },\n        mounted: function () {\n            this._refreshTreeData(this.config);\n        },\n        methods: {\n            _refreshTreeData: async function (config) {\n\n                await this._getOldCheckedMap();\n\n                var that = this;\n                this.ds = DataCenter.getDataSource(\"apiPermissionMgr\");\n                DataCenter.getPagedByDS(this.ds, function (data) {\n                    that.baseData = that._parseToTreeData(data);\n\n                    //手动绑定事件 TODO 以后支持beforeChecked去除 ivu-tree ivu-checkbox-input\n                    document.getElementsByClassName(\"ivu-tree\")[0].addEventListener(\"click\", function (event) {\n                        let target = event.target;\n                        if (\"INPUT\" == target.tagName) {\n                            let ruleSpan = target.parentNode.parentNode.parentNode.querySelector('[class=\"rule-span\"]');\n                            let ruleId = ruleSpan.dataset.id;\n                            let serviceId = ruleSpan.dataset.pid;\n                            that._updateRuleChecked(ruleId, serviceId);//其它的同级节点都取消选中\n                        }\n                    }, true);\n                });\n            },\n            _updateRuleChecked: function (id, pid) {\n                let serviceItem = this.boundleMap[pid];\n                let ruleArr = serviceItem.children;\n                for (var i = 0, len = ruleArr.length; i < len; i++) {\n                    let ruleItem = ruleArr[i];\n                    let ruleId = ruleItem.id;\n                    if (id != ruleId) {\n                        ruleItem.checked = false;\n                    }\n                }\n\n            },\n            cancel: function () {\n                this.$emit('update:closeTree', 0);\n            },\n            checkChange: function (checkedArr) {\n                this.checkedArr = checkedArr;\n            },\n            handleSave: function () {\n                //自动增加appId\n                let appId = DataCenter.getAppId();\n                if(!appId) {\n                    this.$Modal.error({content: \"未选中项目!\"});\n                }else {\n                    if (this.checkedArr) {\n                        let res = [];\n                        for (var i = 0, len = this.checkedArr.length; i < len; i++) {\n                            let item = this.checkedArr[i];\n                            if (\"rule\" == item.type) {\n                                res.push({\n                                    appId: appId,\n                                    apiPermissionId: item.pid,\n                                    apiPermissionRuleId: item.id,\n                                    roleId: this.currentRoleId\n                                });\n                            }\n                        }\n\n                        console.log(JSON.stringify(res))\n\n                    }\n                }\n            },\n            _getOldCheckedMap: async function () {\n                this.relDS = DataCenter.getDataSource(\"roleRelApiPermissionMgr\");\n                let data = await DataCenter.getPagedByDS(this.relDS, null, {roleId: this.currentRoleId}, true);\n                if (data.success) {\n                    this.oldCheckedMap = {};\n                    var dataArr = data.result;\n                    for (var i = 0, len = dataArr.length; i < len; i++) {\n                        let item = dataArr[i];\n                        this.oldCheckedMap[item.apiPermissionRuleId] = true;\n                    }\n                }\n            },\n            _parseToTreeData: function (serverData) {\n                var boundleMap = {};\n                var dataArr = serverData.result;\n                var treeData = [];\n                for (var i = 0, len = dataArr.length; i < len; i++) {\n                    var item = dataArr[i];\n                    var type = item.type;\n                    var id = item.id;\n\n                    var treeItem = {\n                        \"title\": item.bundle,\n                        \"id\": id,\n                        \"type\": type,\n                        \"disableCheckbox\": true\n                    };\n\n                    if (\"bundle\" == type) {\n                        if (0 == i) {\n                            treeItem.expand = true;\n                        }\n                        treeItem.children = [];\n                        treeData.push(treeItem);\n                        boundleMap[id] = treeData.length - 1;\n                    } else if (\"service\" == type) {\n                        treeItem.pid = item.pid;\n                        treeItem.title = item.service + ' : ' + item.method;\n                        treeItem.children = [];\n                        for (var j = 0, ruleLen = item.rules.length; j < ruleLen; j++) {\n\n                            var ruleItem = item.rules[j];\n                            var ruleId = ruleItem.id;\n                            var rule = ruleItem.rule;\n                            var refCond = ruleItem.refCond;\n                            var title = `<span class=\"rule-span\" data-id=\"${ruleId}\" data-pid=\"${id}\">${rule} : ${refCond}</span>`;\n                            var ruleItem = {\n                                id: ruleId,\n                                pid: id,\n                                title: title,\n                                type: \"rule\"\n                            };\n                            if (this.oldCheckedMap[ruleId]) {\n                                ruleItem.checked = true;\n                            }\n                            treeItem.children.push(ruleItem);\n                        }\n                        var pidIndex = boundleMap[item.pid];\n                        treeData[pidIndex].children.push(treeItem);\n\n                        boundleMap[id] = treeItem;//serviceItem\n                    }\n                }\n                this.boundleMap = boundleMap;\n                return treeData;\n            }\n        }\n    }\n</script>\n\n<style>\n\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// BizTree.vue?790fcd24"],"sourceRoot":""}