webpackJsonp([16],{0:function(e,n,r){"use strict";r.d(n,"a",function(){return m});var t=r(4),i=r.n(t),a=r(14),s=r.n(a),u=r(3),c=r.n(u),o=r(15),h=r.n(o),f=r(16),d=r.n(f),l=r(17),m=(r.n(l),function(){function e(n){h()(this,e),this.schema=n}return d()(e,[{key:"count",value:function(e){}},{key:"query",value:function(e,n){var r=this._getQuery(n);return r.set("_method","get"),fetch(e,{method:"POST",credentials:"same-origin",body:r})}},{key:"_isRefKey",value:function(e){if(this.schema.child)for(var n=0;n<this.schema.child.length;n++)if(this.schema.child[n]==e)return!0;return!1}},{key:"_getQuery",value:function(e){var n=new URLSearchParams;for(var r in e)if(this._isRefKey(r)){var t=r+"_";for(var i in e[r])n.append(t+i,e[r][i])}else{var a=e[r];if(a instanceof Array)for(var s=0;s<a.length;s++)n.append(r,a[s]);else n.append(r,a)}return n}},{key:"paged",value:function(e){var n=this._getQuery(e);return n.set("_method","get"),fetch(this.schema.queryUrl||this.schema.url,{method:"POST",credentials:"same-origin",body:n})}},{key:"create",value:function(e,n){var r=new FormData;if(r.append(this.schema.name,c()(e)),n)for(var t in n)r.append(t,n[t]);return fetch(this.schema.createUrl||this.schema.url,{method:"POST",credentials:"same-origin",body:r})}},{key:"update",value:function(e,n){var r=new FormData;if(r.append("_method","put"),r.append(this.schema.name,c()(e)),n){var t=this._getQuery(n),i=!0,a=!1,u=void 0;try{for(var o,h=s()(t.keys());!(i=(o=h.next()).done);i=!0){var f=o.value;r.append(f,t.get(f))}}catch(e){a=!0,u=e}finally{try{!i&&h.return&&h.return()}finally{if(a)throw u}}}return fetch(this.schema.updateUrl||this.schema.url,{method:"POST",credentials:"same-origin",body:r})}},{key:"remove",value:function(e){var n=this._getQuery(e);return n.set("_method","delete"),fetch(this.schema.deleteUrl||this.schema.url,{method:"POST",credentials:"same-origin",body:n})}},{key:"buildValue",value:function(e){return e&&(e=i()({},this.schema.name,e)),e}}]),e}())},120:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),r.d(n,"ApiPermissionDS",function(){return s});var t=r(0),i="/rest/configServer/access/apiPermissionMgr",a=new t.a({queryUrl:i,createUrl:"/rest/configServer/access/apiPermissionMgr",updateUrl:"/rest/configServer/access/apiPermissionMgr",deleteUrl:"/rest/configServer/access/apiPermissionMgr",name:"apiPermissionEntity"}),s={batchInsert:function(e){return a.create(e).then(function(e){return e.json()})},save:function(e){return e.id?a.update(e,{id:e.id}).then(function(e){return e.json()}):a.create(e).then(function(e){return e.json()})},findById:function(e){return a.query(i,{id:e}).then(function(e){return e.json()}).then(function(e){return e.result[0]})},query:function(e){return a.paged({appId:e}).then(function(e){return e.json()}).then(function(e){return e.result})},remove:function(e){return a.remove({appId:e}).then(function(e){return e.json()}).then(function(e){return e.result})}}}},[120]);
//# sourceMappingURL=apiPermissionDS.18f8d9a9cbb957212ddd.js.map